import{proxyCustomElement as e,HTMLElement as t,createEvent as i,writeTask as o,h as n,Host as r,readTask as s}from"https://cdn.jsdelivr.net/npm/@stencil/core@4.0.0/internal/client/+esm";const a={calendar:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <rect x="4" y="5" width="16" height="16" rx="2"/> <line x1="16" y1="3" x2="16" y2="7"/> <line x1="8" y1="3" x2="8" y2="7"/> <line x1="4" y1="11" x2="20" y2="11"/> <line x1="11" y1="15" x2="12" y2="15"/> <line x1="12" y1="15" x2="12" y2="18"/></svg>',check:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-check" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <path d="M5 12l5 5l10 -10"/></svg>',"chevron-down":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <polyline points="6 9 12 15 18 9"/></svg>',"chevron-left":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <polyline points="15 6 9 12 15 18"/></svg>',"chevron-right":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <polyline points="9 6 15 12 9 18"/></svg>',"chevron-up":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <polyline points="6 15 12 9 18 15"/></svg>',"chevrons-left":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="11 7 6 12 11 17"></polyline><polyline points="17 7 12 12 17 17"></polyline></svg>',"chevrons-right":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevrons-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="7 7 12 12 7 17"></polyline><polyline points="13 7 18 12 13 17"></polyline></svg>',"eye-off":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye-off" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="3" y1="3" x2="21" y2="21"/> <path d="M10.584 10.587a2 2 0 0 0 2.828 2.83"/> <path d="M9.363 5.365a9.466 9.466 0 0 1 2.637 -.365c4 0 7.333 2.333 10 7c-.778 1.361 -1.612 2.524 -2.503 3.488m-2.14 1.861c-1.631 1.1 -3.415 1.651 -5.357 1.651c-4 0 -7.333 -2.333 -10 -7c1.369 -2.395 2.913 -4.175 4.632 -5.341"/></svg>',eye:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-eye" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <circle cx="12" cy="12" r="2"/> <path d="M22 12c-2.667 4.667 -6 7 -10 7s-7.333 -2.333 -10 -7c2.667 -4.667 6 -7 10 -7s7.333 2.333 10 7"/></svg>',"icon-x":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="18" y1="6" x2="6" y2="18"/> <line x1="6" y1="6" x2="18" y2="18"/></svg>',plus:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-plus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="12" y1="5" x2="12" y2="19" /><line x1="5" y1="12" x2="19" y2="12" /></svg>',minus:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-minus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="5" y1="12" x2="19" y2="12" /></svg>',"square-plus":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-plus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="4" width="16" height="16" rx="2"></rect><line x1="9" y1="12" x2="15" y2="12"></line><line x1="12" y1="9" x2="12" y2="15"></line></svg>',"square-minus":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-square-minus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="4" width="16" height="16" rx="2"></rect><line x1="9" y1="12" x2="15" y2="12"></line></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-file-text" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><line x1="9" y1="9" x2="10" y2="9" /><line x1="9" y1="13" x2="15" y2="13" /><line x1="9" y1="17" x2="15" y2="17" /></svg>',folder:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-folder" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2" /></svg>',"folder-opened":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-folder-minus" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-11a2 2 0 0 1 2 -2" /><line x1="9" y1="13" x2="15" y2="13" /></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hand-stop" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"></path><path d="M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"></path><path d="M14 5.5a1.5 1.5 0 0 1 3 0v6.5"></path><path d="M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"></path></svg>',question:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-help-circle"><circle cx="12" cy="12" r="10"></circle><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"></path><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-alert-triangle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M12 9v2m0 4v.01"></path><path d="M5 19h14a2 2 0 0 0 1.84 -2.75l-7.1 -12.25a2 2 0 0 0 -3.5 0l-7.1 12.25a2 2 0 0 0 1.75 2.75"></path></svg>',info:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-info-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="12" cy="12" r="9"></circle><line x1="12" y1="8" x2="12.01" y2="8"></line><polyline points="11 12 12 12 12 16 13 16"></polyline></svg>',"color-picker":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-color-picker" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M11 7l6 6"></path><path d="M4 16l11.7 -11.7a1 1 0 0 1 1.4 0l2.6 2.6a1 1 0 0 1 0 1.4l-11.7 11.7h-4v-4z"></path></svg>',copy:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="8" y="8" width="12" height="12" rx="2"></rect><path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path></svg>',checks:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-checks" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M7 12l5 5l10 -10"></path><path d="M2 12l5 5m5 -5l5 -5"></path></svg>',upload:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-upload" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"></path><polyline points="7 9 12 4 17 9"></polyline><line x1="12" y1="4" x2="12" y2="16"></line></svg>',refresh:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-rotate" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M19.95 11a8 8 0 1 0 -.5 4m.5 5v-5h-5"></path></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-player-play" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M7 4v16l13 -8z"></path></svg>',"animated-spinner":'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" ><path fill="currentColor" d="M25,5A20.14,20.14,0,0,1,45,22.88a2.51,2.51,0,0,0,2.49,2.26h0A2.52,2.52,0,0,0,50,22.33a25.14,25.14,0,0,0-50,0,2.52,2.52,0,0,0,2.5,2.81h0A2.51,2.51,0,0,0,5,22.88,20.14,20.14,0,0,1,25,5Z"><animateTransform attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.5s" repeatCount="indefinite"/></path></svg>',"arrow-down":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-down" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="12" y1="5" x2="12" y2="19"/> <line x1="18" y1="13" x2="12" y2="19"/> <line x1="6" y1="13" x2="12" y2="19"/></svg>',"arrow-left":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="5" y1="12" x2="19" y2="12"/> <line x1="11" y1="18" x2="5" y2="12"/> <line x1="11" y1="6" x2="5" y2="12"/></svg>',"arrow-right":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="5" y1="12" x2="19" y2="12"/> <line x1="13" y1="18" x2="19" y2="12"/> <line x1="13" y1="6" x2="19" y2="12"/></svg>',"arrow-up":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"/> <line x1="12" y1="5" x2="12" y2="19"/> <line x1="18" y1="11" x2="12" y2="5"/> <line x1="6" y1="11" x2="12" y2="5"/></svg>',typography:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-typography" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="4" y1="20" x2="7" y2="20"></line><line x1="14" y1="20" x2="21" y2="20"></line><line x1="6.9" y1="15" x2="13.8" y2="15"></line><line x1="10.2" y1="6.3" x2="16" y2="20"></line><polyline points="5 20 11 4 13 4 20 20"></polyline></svg>',"grip-horizontal":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-grip-horizontal" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="5" cy="9" r="1" /><circle cx="5" cy="15" r="1" /><circle cx="12" cy="9" r="1" /><circle cx="12" cy="15" r="1" /><circle cx="19" cy="9" r="1" /><circle cx="19" cy="15" r="1" /></svg>',"grip-vertical":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-grip-vertical" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="9" cy="5" r="1"></circle><circle cx="9" cy="12" r="1"></circle><circle cx="9" cy="19" r="1"></circle><circle cx="15" cy="5" r="1"></circle><circle cx="15" cy="12" r="1"></circle><circle cx="15" cy="19" r="1"></circle></svg>',list:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-list" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><line x1="9" y1="6" x2="20" y2="6"></line><line x1="9" y1="12" x2="20" y2="12"></line><line x1="9" y1="18" x2="20" y2="18"></line><line x1="5" y1="6" x2="5" y2="6.01"></line><line x1="5" y1="12" x2="5" y2="12.01"></line><line x1="5" y1="18" x2="5" y2="18.01"></line></svg>',grid:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-layout-grid" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><rect x="4" y="4" width="6" height="6" rx="1"></rect><rect x="14" y="4" width="6" height="6" rx="1"></rect><rect x="4" y="14" width="6" height="6" rx="1"></rect><rect x="14" y="14" width="6" height="6" rx="1"></rect></svg>',"hard-drive":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-feather icon-feather-hard-drive" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="12" x2="2" y2="12"></line><path d="M5.45 5.11L2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"></path><line x1="6" y1="16" x2="6.01" y2="16"></line><line x1="10" y1="16" x2="10.01" y2="16"></line></svg>',columns:'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-columns" width="40" height="40" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"> <path stroke="none" d="M0 0h24v24H0z" fill="none"></path> <path d="M4 6l5.5 0m-5.5 4l5.5 0m-5.5 4l5.5 0m-5.5 4l5.5 0m5 -12l5.5 0m-5.5 4l5.5 0m-5.5 4l5.5 0m-5.5 4l5.5 0"></path></svg>'},l=/((http|ftp|https):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,c=/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+\=[a-z\-]+)?)?(;base64)?,[a-z0-9\!\$\&\'\,\(\)\*\+\,\;\=\-\.\_\~\:\@\/\?\%\s]*\s*$/i;const d=new class{constructor(){var e,t,i;null!==(t=(i=null!==(e=window.BBj)&&void 0!==e?e:window.BBj={}).IconsPools)&&void 0!==t||(i.IconsPools=[]),this.pools=window.BBj.IconsPools,this.get("bbj")||this.register("bbj",(e=>a[e]?`data:image/svg+xml,${encodeURIComponent(a[e])}`:"")),this.get("tabler")||this.register("tabler",(e=>`https://cdn.jsdelivr.net/npm/@tabler/icons@1.67.0/icons/${e}.svg`)),this.get("feather")||this.register("feather",(e=>`https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/icons/${e}.svg`)),this.get("fa")||this.register("fa",(e=>{const t=e.replace(/^fa[rbs]-/,"");let i="regular";return"fas-"===e.substring(0,4)&&(i="solid"),"fab-"===e.substring(0,4)&&(i="brands"),`https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.1/svgs/${i}/${t}.svg`}),(e=>e.setAttribute("fill","currentColor")))}register(e,t,i=null){this.unregister(e),this.pools.push({name:e,resolver:t,modifier:i});const o=new CustomEvent("bbj-pool-registered",{detail:{name:e}});return document.dispatchEvent(o),this}unregister(e){if(this.get(e)){this.pools=this.pools.filter((t=>t.name!==e));const t=new CustomEvent("bbj-pool-unregistered",{detail:{name:e}});document.dispatchEvent(t)}return this}get(e){const t=this.pools.filter((t=>t.name===e));return t.length>0?t[0]:null}},h=new class{constructor(){this.cache=new Map,this.requests=new Map,this.warnMissingSvg=e=>{console.warn(`[BBj.IconsLoader] Failed to load the SVG icon: ${e}`)}}load(e){const t="svg"===e.split(/[#?]/)[0].split(".").pop().trim().toLowerCase()||e.startsWith("data:image/svg+xml,");let i=this.requests.get(e);return i||(i=fetch(e).then((async i=>{if(i.ok){if(t){const t=document.createElement("div");t.innerHTML=await i.text();const o=t.firstElementChild;return o&&"svg"===o.tagName.toLowerCase()?(this.cache.set(e,t.innerHTML),o.outerHTML):(this.warnMissingSvg(e),"")}{const t=document.createElement("img");return t.src=URL.createObjectURL(await i.blob()),this.cache.set(e,t.outerHTML),t.outerHTML}}return this.warnMissingSvg(e),""}))),this.requests.set(e,i),i}},b=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.loadedEvent=i(this,"bbj-loaded",7),this.failedEvent=i(this,"bbj-failed",7),this.innerHTML=void 0,this.isImage=void 0,this.expanse="xs",this.label=void 0,this.modifier=void 0,this.name=void 0,this.pool="tabler",this.src=void 0,this.theme="default"}handleChange(){this.load()}onPoolChange(e){e.detail.name===this.name&&this.load()}componentDidLoad(){this.load()}figureLabel(){let e="";return this.label?e=this.label:this.name?e=this.name.replace(/-/g," "):this.src&&(e=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.[^/.]+$/,"")),e}load(){o((()=>{let e,t=this.src;t||(e=d.get(this.pool),this.name&&e&&(t=e.resolver(this.name))),t&&h.load(t).then((t=>{const i=document.createElement("template");t=t.trim(),i.innerHTML=t;const o=i.content.firstChild;o?(o.setAttribute("part","icon"),this.name&&e&&e.modifier&&e.modifier(o),this.modifier&&this.modifier(o),this.innerHTML=o.outerHTML,this.isImage="img"===o.nodeName.toLowerCase(),this.loadedEvent.emit()):(this.innerHTML="",this.isImage=!1,this.failedEvent.emit({error:"Cannot parse the icon."}))})).catch((e=>this.failedEvent.emit({error:e})))}))}render(){return n(r,{class:{"bbj-no-contain":this.isImage}},n("div",{part:"control",class:{control:!0,"control--image":this.isImage,"control--2xs":"2xs"===this.expanse,"control--xs":"xs"===this.expanse,"control--s":"s"===this.expanse,"control--m":"m"===this.expanse,"control--l":"l"===this.expanse,"control--xl":"xl"===this.expanse,"control--2xl":"2xl"===this.expanse,"control--3xl":"3xl"===this.expanse,"control--primary":"primary"===this.theme,"control--success":"success"===this.theme,"control--warning":"warning"===this.theme,"control--danger":"danger"===this.theme,"control--info":"info"===this.theme,"control--gray":"gray"===this.theme},role:"img","aria-label":this.figureLabel(),innerHTML:this.innerHTML}))}static get assetsDirs(){return["icons"]}static get watchers(){return{name:["handleChange"],src:["handleChange"],pool:["handleChange"],modifier:["handleChange"]}}static get style(){return':host{box-sizing:content-box !important;contain:strict;display:inline-block;font-size:var(--bbj-icon-size, var(--bbj-size-xs));height:1em;position:relative;text-decoration-skip-ink:auto;vertical-align:middle;width:1em}:host(.bbj-no-contain){contain:unset;height:unset;width:unset}:host *,:host *::before,:host *::after{box-sizing:inherit}.control{font-size:inherit}.control,svg{color:inherit;display:block;height:100%;width:100%}.control--image{align-items:center;display:flex;justify-content:center}:host([theme=primary]){color:var(--bbj-color-primary)}:host([theme=success]){color:var(--bbj-color-success)}:host([theme=warning]){color:var(--bbj-color-warning)}:host([theme=danger]){color:var(--bbj-color-danger)}:host([theme=info]){color:var(--bbj-color-info)}:host([theme=gray]){color:var(--bbj-color-gray)}:host([expanse="3xl"]){font-size:var(--bbj-icon-size, var(--bbj-size-3xl))}:host([expanse="2xl"]){font-size:var(--bbj-icon-size, var(--bbj-size-2xl))}:host([expanse=xl]){font-size:var(--bbj-icon-size, var(--bbj-size-xl))}:host([expanse=l]){font-size:var(--bbj-icon-size, var(--bbj-size-l))}:host([expanse=m]){font-size:var(--bbj-icon-size, var(--bbj-size-m))}:host([expanse=s]){font-size:var(--bbj-icon-size, var(--bbj-size-s))}:host([expanse=xs]){font-size:var(--bbj-icon-size, var(--bbj-size-xs))}:host([expanse="2xs"]){font-size:var(--bbj-icon-size, var(--bbj-size-2xs))}'}},[1,"bbj-icon",{expanse:[513],label:[1],modifier:[16],name:[513],pool:[513],src:[1],theme:[513],innerHTML:[32],isImage:[32]},[[4,"bbj-pool-registered","onPoolChange"],[4,"bbj-pool-unregistered","onPoolChange"]]]);function p(){if("undefined"==typeof customElements)return;["bbj-icon"].forEach((e=>{if("bbj-icon"===e)customElements.get(e)||customElements.define(e,b)}))}p();const u=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.disabled=!1,this.expanse="xs",this.focusVisible=!0,this.label=void 0,this.name=void 0,this.src=void 0,this.pool="tabler",this.theme="default",this.tabTraversable=0}componentDidLoad(){null!=window.applyFocusVisiblePolyfill&&window.applyFocusVisiblePolyfill(this.el.shadowRoot)}handleClick(e){if(this.disabled)return e.preventDefault(),e.stopImmediatePropagation(),void e.stopPropagation();this.setFocus()}async setFocus(){this.button&&this.button.focus&&this.button.focus()}async removeFocus(){this.button&&this.button.blur&&this.button.blur()}figureLabel(){let e="";return this.label?e=this.label:this.name?e=this.name.replace(/-/g," "):this.src&&(e=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.[^/.]+$/,"")),e}render(){const e=this.figureLabel();return n(r,null,n("button",{ref:e=>this.button=e,part:"control",class:{control:!0,"control--disabled":this.disabled,"control--nfv":!this.focusVisible,"control--primary":"primary"===this.theme,"control--success":"success"===this.theme,"control--warning":"warning"===this.theme,"control--danger":"danger"===this.theme,"control--info":"info"===this.theme,"control--gray":"gray"===this.theme},disabled:this.disabled,tabindex:this.disabled?-1:this.tabTraversable,type:"button","aria-label":e},n("bbj-icon",{part:"icon",expanse:this.expanse,label:this.label,name:this.name,src:this.src,pool:this.pool,"aria-hidden":"true"})))}get el(){return this}static get style(){return":host{display:inline-block}:host([disabled]){cursor:var(--bbj-disabled-cursor)}.control{align-items:center;appearance:none;background:none;border:unset;border:var(--bbj-border-width) var(--bbj-border-style) transparent;border-radius:var(--bbj-border-radius);color:currentcolor;cursor:var(--bbj-cursor-click);display:inline-flex;flex:0 0 auto;font-size:inherit;height:100%;justify-content:center;margin:0;padding:0;transition:var(--bbj-transition) color, var(--bbj-transition) border-color, var(--bbj-transition) box-shadow;vertical-align:middle;width:100%}.control::-moz-focus-inner{border:0}.control:focus{outline:none}.control--disabled{cursor:var(--bbj-disabled-cursor);opacity:var(--bbj-disabled-opacity);user-select:none;pointer-events:none}.control--disabled *{cursor:var(--bbj-disabled-cursor);user-select:none;pointer-events:none}.control{color:var(--bbj-icon-button-color, inherit)}.control:hover:not(.control--disabled),.control.focus-visible:not(.control--disabled){color:var(--bbj-icon-button-hover-color, var(--bbj-color-primary-text-light))}.control:active:not(.control--disabled){color:var(--bbj-icon-button-active-color, var(--bbj-color-primary-text))}.control.focus-visible:not(.control--nfv):not(.control--disabled){border-color:var(--bbj-icon-button-focused-border-color, var(--bbj-border-color-default));box-shadow:var(--bbj-icon-button-focus-ring, var(--bbj-focus-ring-default))}:host([theme=primary]){--bbj-icon-button-color:var(--bbj-color-primary-text);--bbj-icon-button-hover-color:var(--bbj-color-primary-text-light);--bbj-icon-button-active-color:var(--bbj-color-primary-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-primary);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-primary)}:host([theme=success]){--bbj-icon-button-color:var(--bbj-color-success-text);--bbj-icon-button-hover-color:var(--bbj-color-success-text-light);--bbj-icon-button-active-color:var(--bbj-color-success-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-success);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-success)}:host([theme=warning]){--bbj-icon-button-color:var(--bbj-color-warning-text);--bbj-icon-button-hover-color:var(--bbj-color-warning-text-light);--bbj-icon-button-active-color:var(--bbj-color-warning-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-warning);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-warning)}:host([theme=danger]){--bbj-icon-button-color:var(--bbj-color-danger-text);--bbj-icon-button-hover-color:var(--bbj-color-danger-text-light);--bbj-icon-button-active-color:var(--bbj-color-danger-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-danger);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-danger)}:host([theme=info]){--bbj-icon-button-color:var(--bbj-color-info-text);--bbj-icon-button-hover-color:var(--bbj-color-info-text-light);--bbj-icon-button-active-color:var(--bbj-color-info-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-info);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-info)}:host([theme=gray]){--bbj-icon-button-color:var(--bbj-color-gray-text);--bbj-icon-button-hover-color:var(--bbj-color-gray-text-light);--bbj-icon-button-active-color:var(--bbj-color-gray-text);--bbj-icon-button-focused-border-color:var(--bbj-border-color-gray);--bbj-icon-button-focus-ring:var(--bbj-focus-ring-gray)}"}},[1,"bbj-icon-button",{disabled:[516],expanse:[513],focusVisible:[4,"focus-visible"],label:[1],name:[513],src:[1],pool:[1],theme:[513],tabTraversable:[2,"tab-traversable"],setFocus:[64],removeFocus:[64]},[[2,"click","handleClick"]]]);function v(){if("undefined"==typeof customElements)return;["bbj-icon-button","bbj-icon"].forEach((e=>{switch(e){case"bbj-icon-button":customElements.get(e)||customElements.define(e,u);break;case"bbj-icon":customElements.get(e)||p()}}))}v();const m=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.closedEvent=i(this,"bbj-closed",7),this.closable=!1,this.expanse="m",this.icon="",this.message=void 0,this.opened=!0,this.theme="default"}connectedCallback(){this.handleClick=this.handleClick.bind(this)}handleClick(){this.opened=!1,this.closedEvent.emit()}render(){const{src:e,pool:t,name:i}=(e=>{if(!e)return{};if("object"==typeof e)return e;{if(l.test(e)||c.test(e))return{src:e};const t=e.split(":");if(2===t.length&&t[0]&&t[1])return{name:t[1],pool:t[0]};if(1===t.length&&t[0])return{name:t[0],pool:"bbj"}}})(this.icon);return n(r,null,n("div",{class:{control:!0,"control--opened":this.opened,"control--closeable":this.closable,"control--primary":"primary"===this.theme,"control--success":"success"===this.theme,"control--warning":"warning"===this.theme,"control--danger":"danger"===this.theme,"control--info":"info"===this.theme,"control--gray":"gray"===this.theme,"control--xs":"xs"===this.expanse,"control--s":"s"===this.expanse,"control--m":"m"===this.expanse,"control--l":"l"===this.expanse,"control--xl":"xl"===this.expanse},role:this.opened?"alert":"none"},n("slot",null,this.message&&this.message.length&&(e||i)&&n("bbj-icon",{part:"icon",class:"control__icon",src:e,pool:t,name:i,"aria-hidden":"true"}),n("div",{part:"message",class:"control__message",innerHTML:this.message})),this.closable&&n("bbj-icon-button",{class:"control__closeButton",part:"close-button",pool:"bbj",name:"icon-x",theme:this.theme,onClick:this.handleClick})))}get el(){return this}static get style(){return'@media (prefers-reduced-motion: reduce){*,::before,::after{animation-delay:-1ms !important;animation-duration:1ms !important;animation-iteration-count:1 !important;background-attachment:initial !important;scroll-behavior:auto !important;transition-delay:0s !important;transition-duration:0s !important}}:host{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;-webkit-tap-highlight-color:transparent;text-size-adjust:100%}:host *,:host *::before,:host *::after{box-sizing:inherit}:host{display:table}.control{align-items:center;background:var(--bbj-alert-background, transparent);border-radius:var(--bbj-border-radius);color:var(--bbj-alert-color, inherit);display:none;gap:var(--bbj-space-s);overflow:hidden;position:relative}.control ol,.control ul,.control ::slotted(ol),.control ::slotted(ul){margin:0;padding:var(--bbj-space-s) var(--bbj-space-m)}.control--opened{border:var(--bbj-alert-border-width, var(--bbj-border-width)) var(--bbj-alert-border-style, var(--bbj-border-style)) var(--bbj-alert-border-color, var(--bbj-color-default-dark));display:flex;padding:var(--bbj-alert-padding, var(--bbj-space-s))}.control__icon{color:var(--bbj-alert-icon-color, inherit);display:inline-flex;flex:0 0 auto}.control__message{flex:1}.control__closeButton{--bbj-icon-size:1.2em;overflow:hidden;position:relative;border-radius:var(--bbj-border-radius-round)}.control__closeButton::after{background-image:radial-gradient(circle, var(--bbj-ripple-color, currentColor) 10%, transparent 10.01%);background-position:50%;background-repeat:no-repeat;content:"";display:block;height:100%;left:0;opacity:0;pointer-events:none;position:absolute;top:0;transform:scale(10, 10);transition:transform 0.5s, opacity 1s;width:100%}.control__closeButton:active::after{opacity:0.2;transform:scale(0, 0);transition:0s}:host(.bbj-noborder){--bbj-alert-border-color:transparent !important}:host(.bbj-transparent){--bbj-alert-background:transparent !important}:host([theme=primary]){--bbj-alert-background:var(--bbj-color-primary-alt);--bbj-alert-color:var(--bbj-color-on-primary-text-alt);--bbj-alert-icon-color:var(--bbj-color-primary);--bbj-alert-border-color:var(--bbj-color-primary)}:host([theme=success]){--bbj-alert-background:var(--bbj-color-success-alt);--bbj-alert-color:var(--bbj-color-on-success-text-alt);--bbj-alert-icon-color:var(--bbj-color-success);--bbj-alert-border-color:var(--bbj-color-success)}:host([theme=warning]){--bbj-alert-background:var(--bbj-color-warning-alt);--bbj-alert-color:var(--bbj-color-on-warning-text-alt);--bbj-alert-icon-color:var(--bbj-color-warning);--bbj-alert-border-color:var(--bbj-color-warning)}:host([theme=danger]){--bbj-alert-background:var(--bbj-color-danger-alt);--bbj-alert-color:var(--bbj-color-on-danger-text-alt);--bbj-alert-icon-color:var(--bbj-color-danger);--bbj-alert-border-color:var(--bbj-color-danger)}:host([theme=info]){--bbj-alert-background:var(--bbj-color-info-alt);--bbj-alert-color:var(--bbj-color-on-info-text-alt);--bbj-alert-icon-color:var(--bbj-color-info);--bbj-alert-border-color:var(--bbj-color-info)}:host([theme=gray]){--bbj-alert-background:var(--bbj-color-gray-alt);--bbj-alert-color:var(--bbj-color-on-gray-text-alt);--bbj-alert-icon-color:var(--bbj-color-gray);--bbj-alert-border-color:var(--bbj-color-gray)}.control--xl{font-size:var(--bbj-font-size-xl)}.control--l{font-size:var(--bbj-font-size-l)}.control--m{font-size:var(--bbj-font-size-m)}.control--s{font-size:var(--bbj-font-size-s)}.control--xs{font-size:var(--bbj-font-size-xs)}'}},[1,"bbj-alert",{closable:[4],expanse:[513],icon:[1],message:[1],opened:[1540],theme:[513]}]);function f(){if("undefined"==typeof customElements)return;["bbj-alert","bbj-icon","bbj-icon-button"].forEach((e=>{switch(e){case"bbj-alert":customElements.get(e)||customElements.define(e,m);break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v()}}))}f();var g="top",w="bottom",x="right",j="left",y="auto",k=[g,w,x,j],_="start",C="end",E="clippingParents",S="viewport",I="popper",M="reference",z=k.reduce((function(e,t){return e.concat([t+"-"+_,t+"-"+C])}),[]),O=[].concat(k,[y]).reduce((function(e,t){return e.concat([t,t+"-"+_,t+"-"+C])}),[]),D=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function T(e){return e?(e.nodeName||"").toLowerCase():null}function B(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function P(e){return e instanceof B(e).Element||e instanceof Element}function L(e){return e instanceof B(e).HTMLElement||e instanceof HTMLElement}function H(e){return"undefined"!=typeof ShadowRoot&&(e instanceof B(e).ShadowRoot||e instanceof ShadowRoot)}const V={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},o=t.attributes[e]||{},n=t.elements[e];L(n)&&T(n)&&(Object.assign(n.style,i),Object.keys(o).forEach((function(e){var t=o[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var o=t.elements[e],n=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});L(o)&&T(o)&&(Object.assign(o.style,r),Object.keys(n).forEach((function(e){o.removeAttribute(e)})))}))}},requires:["computeStyles"]};function A(e){return e.split("-")[0]}var F=Math.max,W=Math.min,R=Math.round;function N(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function q(){return!/^((?!chrome|android).)*safari/i.test(N())}function K(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1);var o=e.getBoundingClientRect(),n=1,r=1;t&&L(e)&&(n=e.offsetWidth>0&&R(o.width)/e.offsetWidth||1,r=e.offsetHeight>0&&R(o.height)/e.offsetHeight||1);var s=(P(e)?B(e):window).visualViewport,a=!q()&&i,l=(o.left+(a&&s?s.offsetLeft:0))/n,c=(o.top+(a&&s?s.offsetTop:0))/r,d=o.width/n,h=o.height/r;return{width:d,height:h,top:c,right:l+d,bottom:c+h,left:l,x:l,y:c}}function U(e){var t=K(e),i=e.offsetWidth,o=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-o)<=1&&(o=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:o}}function $(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&H(i)){var o=t;do{if(o&&e.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function Y(e){return B(e).getComputedStyle(e)}function Z(e){return["table","td","th"].indexOf(T(e))>=0}function X(e){return((P(e)?e.ownerDocument:e.document)||window.document).documentElement}function G(e){return"html"===T(e)?e:e.assignedSlot||e.parentNode||(H(e)?e.host:null)||X(e)}function Q(e){return L(e)&&"fixed"!==Y(e).position?e.offsetParent:null}function J(e){for(var t=B(e),i=Q(e);i&&Z(i)&&"static"===Y(i).position;)i=Q(i);return i&&("html"===T(i)||"body"===T(i)&&"static"===Y(i).position)?t:i||function(e){var t=/firefox/i.test(N());if(/Trident/i.test(N())&&L(e)&&"fixed"===Y(e).position)return null;var i=G(e);for(H(i)&&(i=i.host);L(i)&&["html","body"].indexOf(T(i))<0;){var o=Y(i);if("none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||-1!==["transform","perspective"].indexOf(o.willChange)||t&&"filter"===o.willChange||t&&o.filter&&"none"!==o.filter)return i;i=i.parentNode}return null}(e)||t}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function te(e,t,i){return F(e,W(t,i))}function ie(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function oe(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}const ne={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,o=e.name,n=e.options,r=i.elements.arrow,s=i.modifiersData.popperOffsets,a=A(i.placement),l=ee(a),c=[j,x].indexOf(a)>=0?"height":"width";if(r&&s){var d=function(e,t){return ie("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:oe(e,k))}(n.padding,i),h=U(r),b="y"===l?g:j,p="y"===l?w:x,u=i.rects.reference[c]+i.rects.reference[l]-s[l]-i.rects.popper[c],v=s[l]-i.rects.reference[l],m=J(r),f=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,y=u/2-v/2,_=d[b],C=f-h[c]-d[p],E=f/2-h[c]/2+y,S=te(_,E,C),I=l;i.modifiersData[o]=((t={})[I]=S,t.centerOffset=S-E,t)}},effect:function(e){var t=e.state,i=e.options.element,o=void 0===i?"[data-popper-arrow]":i;null!=o&&("string"!=typeof o||(o=t.elements.popper.querySelector(o)))&&$(t.elements.popper,o)&&(t.elements.arrow=o)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function re(e){return e.split("-")[1]}var se={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ae(e){var t,i=e.popper,o=e.popperRect,n=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,h=e.isFixed,b=s.x,p=void 0===b?0:b,u=s.y,v=void 0===u?0:u,m="function"==typeof d?d({x:p,y:v}):{x:p,y:v};p=m.x,v=m.y;var f=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),k=j,_=g,E=window;if(c){var S=J(i),I="clientHeight",M="clientWidth";if(S===B(i)&&"static"!==Y(S=X(i)).position&&"absolute"===a&&(I="scrollHeight",M="scrollWidth"),n===g||(n===j||n===x)&&r===C)_=w,v-=(h&&S===E&&E.visualViewport?E.visualViewport.height:S[I])-o.height,v*=l?1:-1;if(n===j||(n===g||n===w)&&r===C)k=x,p-=(h&&S===E&&E.visualViewport?E.visualViewport.width:S[M])-o.width,p*=l?1:-1}var z,O=Object.assign({position:a},c&&se),D=!0===d?function(e,t){var i=e.x,o=e.y,n=t.devicePixelRatio||1;return{x:R(i*n)/n||0,y:R(o*n)/n||0}}({x:p,y:v},B(i)):{x:p,y:v};return p=D.x,v=D.y,l?Object.assign({},O,((z={})[_]=y?"0":"",z[k]=f?"0":"",z.transform=(E.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",z)):Object.assign({},O,((t={})[_]=y?v+"px":"",t[k]=f?p+"px":"",t.transform="",t))}var le={passive:!0};var ce={left:"right",right:"left",bottom:"top",top:"bottom"};function de(e){return e.replace(/left|right|bottom|top/g,(function(e){return ce[e]}))}var he={start:"end",end:"start"};function be(e){return e.replace(/start|end/g,(function(e){return he[e]}))}function pe(e){var t=B(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function ue(e){return K(X(e)).left+pe(e).scrollLeft}function ve(e){var t=Y(e),i=t.overflow,o=t.overflowX,n=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+o)}function me(e){return["html","body","#document"].indexOf(T(e))>=0?e.ownerDocument.body:L(e)&&ve(e)?e:me(G(e))}function fe(e,t){var i;void 0===t&&(t=[]);var o=me(e),n=o===(null==(i=e.ownerDocument)?void 0:i.body),r=B(o),s=n?[r].concat(r.visualViewport||[],ve(o)?o:[]):o,a=t.concat(s);return n?a:a.concat(fe(G(s)))}function ge(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function we(e,t,i){return t===S?ge(function(e,t){var i=B(e),o=X(e),n=i.visualViewport,r=o.clientWidth,s=o.clientHeight,a=0,l=0;if(n){r=n.width,s=n.height;var c=q();(c||!c&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:r,height:s,x:a+ue(e),y:l}}(e,i)):P(t)?function(e,t){var i=K(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(t,i):ge(function(e){var t,i=X(e),o=pe(e),n=null==(t=e.ownerDocument)?void 0:t.body,r=F(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),s=F(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-o.scrollLeft+ue(e),l=-o.scrollTop;return"rtl"===Y(n||i).direction&&(a+=F(i.clientWidth,n?n.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}(X(e)))}function xe(e,t,i,o){var n="clippingParents"===t?function(e){var t=fe(G(e)),i=["absolute","fixed"].indexOf(Y(e).position)>=0&&L(e)?J(e):e;return P(i)?t.filter((function(e){return P(e)&&$(e,i)&&"body"!==T(e)})):[]}(e):[].concat(t),r=[].concat(n,[i]),s=r[0],a=r.reduce((function(t,i){var n=we(e,i,o);return t.top=F(n.top,t.top),t.right=W(n.right,t.right),t.bottom=W(n.bottom,t.bottom),t.left=F(n.left,t.left),t}),we(e,s,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function je(e){var t,i=e.reference,o=e.element,n=e.placement,r=n?A(n):null,s=n?re(n):null,a=i.x+i.width/2-o.width/2,l=i.y+i.height/2-o.height/2;switch(r){case g:t={x:a,y:i.y-o.height};break;case w:t={x:a,y:i.y+i.height};break;case x:t={x:i.x+i.width,y:l};break;case j:t={x:i.x-o.width,y:l};break;default:t={x:i.x,y:i.y}}var c=r?ee(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case _:t[c]=t[c]-(i[d]/2-o[d]/2);break;case C:t[c]=t[c]+(i[d]/2-o[d]/2)}}return t}function ye(e,t){void 0===t&&(t={});var i=t,o=i.placement,n=void 0===o?e.placement:o,r=i.strategy,s=void 0===r?e.strategy:r,a=i.boundary,l=void 0===a?E:a,c=i.rootBoundary,d=void 0===c?S:c,h=i.elementContext,b=void 0===h?I:h,p=i.altBoundary,u=void 0!==p&&p,v=i.padding,m=void 0===v?0:v,f=ie("number"!=typeof m?m:oe(m,k)),j=b===I?M:I,y=e.rects.popper,_=e.elements[u?j:b],C=xe(P(_)?_:_.contextElement||X(e.elements.popper),l,d,s),z=K(e.elements.reference),O=je({reference:z,element:y,strategy:"absolute",placement:n}),D=ge(Object.assign({},y,O)),T=b===I?D:z,B={top:C.top-T.top+f.top,bottom:T.bottom-C.bottom+f.bottom,left:C.left-T.left+f.left,right:T.right-C.right+f.right},L=e.modifiersData.offset;if(b===I&&L){var H=L[n];Object.keys(B).forEach((function(e){var t=[x,w].indexOf(e)>=0?1:-1,i=[g,w].indexOf(e)>=0?"y":"x";B[e]+=H[i]*t}))}return B}function ke(e,t){void 0===t&&(t={});var i=t,o=i.placement,n=i.boundary,r=i.rootBoundary,s=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,c=void 0===l?O:l,d=re(o),h=d?a?z:z.filter((function(e){return re(e)===d})):k,b=h.filter((function(e){return c.indexOf(e)>=0}));0===b.length&&(b=h);var p=b.reduce((function(t,i){return t[i]=ye(e,{placement:i,boundary:n,rootBoundary:r,padding:s})[A(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}const _e={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name;if(!t.modifiersData[o]._skip){for(var n=i.mainAxis,r=void 0===n||n,s=i.altAxis,a=void 0===s||s,l=i.fallbackPlacements,c=i.padding,d=i.boundary,h=i.rootBoundary,b=i.altBoundary,p=i.flipVariations,u=void 0===p||p,v=i.allowedAutoPlacements,m=t.options.placement,f=A(m),k=l||(f===m||!u?[de(m)]:function(e){if(A(e)===y)return[];var t=de(e);return[be(e),t,be(t)]}(m)),C=[m].concat(k).reduce((function(e,i){return e.concat(A(i)===y?ke(t,{placement:i,boundary:d,rootBoundary:h,padding:c,flipVariations:u,allowedAutoPlacements:v}):i)}),[]),E=t.rects.reference,S=t.rects.popper,I=new Map,M=!0,z=C[0],O=0;O<C.length;O++){var D=C[O],T=A(D),B=re(D)===_,P=[g,w].indexOf(T)>=0,L=P?"width":"height",H=ye(t,{placement:D,boundary:d,rootBoundary:h,altBoundary:b,padding:c}),V=P?B?x:j:B?w:g;E[L]>S[L]&&(V=de(V));var F=de(V),W=[];if(r&&W.push(H[T]<=0),a&&W.push(H[V]<=0,H[F]<=0),W.every((function(e){return e}))){z=D,M=!1;break}I.set(D,W)}if(M)for(var R=function(e){var t=C.find((function(t){var i=I.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return z=t,"break"},N=u?3:1;N>0;N--){if("break"===R(N))break}t.placement!==z&&(t.modifiersData[o]._skip=!0,t.placement=z,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ce(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function Ee(e){return[g,x,w,j].some((function(t){return e[t]>=0}))}const Se={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,o=e.name,n=i.offset,r=void 0===n?[0,0]:n,s=O.reduce((function(e,i){return e[i]=function(e,t,i){var o=A(e),n=[j,g].indexOf(o)>=0?-1:1,r="function"==typeof i?i(Object.assign({},t,{placement:e})):i,s=r[0],a=r[1];return s=s||0,a=(a||0)*n,[j,x].indexOf(o)>=0?{x:a,y:s}:{x:s,y:a}}(i,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[o]=s}};const Ie={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,o=e.name,n=i.mainAxis,r=void 0===n||n,s=i.altAxis,a=void 0!==s&&s,l=i.boundary,c=i.rootBoundary,d=i.altBoundary,h=i.padding,b=i.tether,p=void 0===b||b,u=i.tetherOffset,v=void 0===u?0:u,m=ye(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:d}),f=A(t.placement),y=re(t.placement),k=!y,C=ee(f),E="x"===C?"y":"x",S=t.modifiersData.popperOffsets,I=t.rects.reference,M=t.rects.popper,z="function"==typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,O="number"==typeof z?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),D=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(S){if(r){var B,P="y"===C?g:j,L="y"===C?w:x,H="y"===C?"height":"width",V=S[C],R=V+m[P],N=V-m[L],q=p?-M[H]/2:0,K=y===_?I[H]:M[H],$=y===_?-M[H]:-I[H],Y=t.elements.arrow,Z=p&&Y?U(Y):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},G=X[P],Q=X[L],ie=te(0,I[H],Z[H]),oe=k?I[H]/2-q-ie-G-O.mainAxis:K-ie-G-O.mainAxis,ne=k?-I[H]/2+q+ie+Q+O.mainAxis:$+ie+Q+O.mainAxis,se=t.elements.arrow&&J(t.elements.arrow),ae=se?"y"===C?se.clientTop||0:se.clientLeft||0:0,le=null!=(B=null==D?void 0:D[C])?B:0,ce=V+ne-le,de=te(p?W(R,V+oe-le-ae):R,V,p?F(N,ce):N);S[C]=de,T[C]=de-V}if(a){var he,be="x"===C?g:j,pe="x"===C?w:x,ue=S[E],ve="y"===E?"height":"width",me=ue+m[be],fe=ue-m[pe],ge=-1!==[g,j].indexOf(f),we=null!=(he=null==D?void 0:D[E])?he:0,xe=ge?me:ue-I[ve]-M[ve]-we+O.altAxis,je=ge?ue+I[ve]+M[ve]-we-O.altAxis:fe,ke=p&&ge?function(e,t,i){var o=te(e,t,i);return o>i?i:o}(xe,ue,je):te(p?xe:me,ue,p?je:fe);S[E]=ke,T[E]=ke-ue}t.modifiersData[o]=T}},requiresIfExists:["offset"]};function Me(e,t,i){void 0===i&&(i=!1);var o,n,r=L(t),s=L(t)&&function(e){var t=e.getBoundingClientRect(),i=R(t.width)/e.offsetWidth||1,o=R(t.height)/e.offsetHeight||1;return 1!==i||1!==o}(t),a=X(t),l=K(e,s,i),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!i)&&(("body"!==T(t)||ve(a))&&(c=(o=t)!==B(o)&&L(o)?{scrollLeft:(n=o).scrollLeft,scrollTop:n.scrollTop}:pe(o)),L(t)?((d=K(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):a&&(d.x=ue(a))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function ze(e){var t=new Map,i=new Set,o=[];function n(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var o=t.get(e);o&&n(o)}})),o.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||n(e)})),o}var Oe={placement:"bottom",modifiers:[],strategy:"absolute"};function De(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function Te(e){void 0===e&&(e={});var t=e,i=t.defaultModifiers,o=void 0===i?[]:i,n=t.defaultOptions,r=void 0===n?Oe:n;return function(e,t,i){void 0===i&&(i=r);var n,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},Oe,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:a,setOptions:function(i){var n="function"==typeof i?i(a.options):i;h(),a.options=Object.assign({},r,a.options,n),a.scrollParents={reference:P(e)?fe(e):e.contextElement?fe(e.contextElement):[],popper:fe(t)};var s,c,b=function(e){var t=ze(e);return D.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((s=[].concat(o,a.options.modifiers),c=s.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return a.orderedModifiers=b.filter((function(e){return e.enabled})),a.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,o=void 0===i?{}:i,n=e.effect;if("function"==typeof n){var r=n({state:a,name:t,instance:d,options:o}),s=function(){};l.push(r||s)}})),d.update()},forceUpdate:function(){if(!c){var e=a.elements,t=e.reference,i=e.popper;if(De(t,i)){a.rects={reference:Me(t,J(i),"fixed"===a.options.strategy),popper:U(i)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(e){return a.modifiersData[e.name]=Object.assign({},e.data)}));for(var o=0;o<a.orderedModifiers.length;o++)if(!0!==a.reset){var n=a.orderedModifiers[o],r=n.fn,s=n.options,l=void 0===s?{}:s,h=n.name;"function"==typeof r&&(a=r({state:a,options:l,name:h,instance:d})||a)}else a.reset=!1,o=-1}}},update:(n=function(){return new Promise((function(e){d.forceUpdate(),e(a)}))},function(){return s||(s=new Promise((function(e){Promise.resolve().then((function(){s=void 0,e(n())}))}))),s}),destroy:function(){h(),c=!0}};if(!De(e,t))return d;function h(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(i).then((function(e){!c&&i.onFirstUpdate&&i.onFirstUpdate(e)})),d}}var Be=Te({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,i=e.instance,o=e.options,n=o.scroll,r=void 0===n||n,s=o.resize,a=void 0===s||s,l=B(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",i.update,le)})),a&&l.addEventListener("resize",i.update,le),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",i.update,le)})),a&&l.removeEventListener("resize",i.update,le)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=je({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,o=i.gpuAcceleration,n=void 0===o||o,r=i.adaptive,s=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,c={placement:A(t.placement),variation:re(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:n,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ae(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ae(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},V,Se,_e,Ie,ne,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,o=t.rects.reference,n=t.rects.popper,r=t.modifiersData.preventOverflow,s=ye(t,{elementContext:"reference"}),a=ye(t,{altBoundary:!0}),l=Ce(s,o),c=Ce(a,n,r),d=Ee(l),h=Ee(c);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":h})}}]});class Pe{constructor(e,t,i){this.options={},this.moved=!1,this._isVisible=!1,this.reference=e,this.popover=t,this.handleAfterTransition=this.handleAfterTransition.bind(this),this.popover.addEventListener("transitionend",this.handleAfterTransition),this.setOptions(Object.assign({strategy:"fixed",placement:"bottom-start",transitionedElement:this.popover,visibleClass:"bbj-positioner--visible",modifiers:[],onBeforeOpen:()=>{},onAfterOpen:()=>{},onAfterRestore:()=>{},onTransitionEnd:()=>{}},i))}set isVisible(e){this._isVisible=e,this.popover.hidden=!e,requestAnimationFrame((()=>{this.popover.classList.toggle(this.options.visibleClass,e)}))}get isVisible(){return this._isVisible}async open(){return this.move(),await this.options.onBeforeOpen.call(this),this.isVisible=!0,this.originalPopper&&this.originalPopper.destroy(),this.originalPopper=Be(this.reference,this.popover,this.options),await this.options.onAfterOpen.call(this),this.update()}async close(){return this.isVisible=!1,this.restore()}async update(){if(this.originalPopper)return this.originalPopper.update()}forceUpdate(){this.originalPopper&&this.originalPopper.forceUpdate()}setOptions(e){this.options=Object.assign(this.options,e);const t=this.isVisible;if(this.isVisible=t,this.originalPopper)return this.originalPopper.setOptions(e),this.forceUpdate()}getOptions(){return this.options}async destroy(){if(this.popover.removeEventListener("transitionend",this.handleAfterTransition),this.originalPopper)return this.originalPopper.destroy(),this.restore()}async handleAfterTransition(e){e.target===this.options.transitionedElement&&(await this.options.onTransitionEnd.call(this,e),this.isVisible||this.popover.hidden||(this.popover.hidden=!0,this.popover.classList.remove(this.options.visibleClass),await this.restore()))}move(){this.options.moveTo instanceof HTMLElement&&!this.moved&&(this.options.moveTo.appendChild(this.popover),this.moved=!0)}async restore(){if(this.options.restoreTo instanceof HTMLElement&&this.moved)return this.isVisible=!1,this.moved=!1,this.options.restoreTo.appendChild(this.popover),this.options.onAfterRestore.call(this)}}const Le=(e=0,t=0)=>({name:"offset",options:{offset:[e,t]}}),He=(e="viewport",t=!1)=>({name:"flip",options:{boundary:e,preventOverflow:t}}),Ve=()=>({name:"applyArrowHide",enabled:!0,phase:"write",fn({state:e}){const{arrow:t}=e.elements;t&&(0!==e.modifiersData.arrow.centerOffset?t.style.display="none":t.style.display="block")}}),Ae=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.distance=2,this.icon="bbj:info",this.message=void 0,this.opened=!1,this.skidding=0,this.placement="bottom",this.theme="default"}onOpenedChanged(){this.opened?this.open():this.close()}onMessageAndIconChanged(){this.popper&&this.opened&&this.popper.update()}onProperOptionsChanged(){this.popper&&this.popper.setOptions({placement:this.placement,modifiers:[Le(this.skidding,this.distance),He(),Ve()]})}componentDidLoad(){s((()=>{let e=this.el.parentElement;e||(e=this.el.getRootNode().host),e&&!this.popper&&(this.popper=new Pe(e,this.$positioner,{strategy:"absolute",placement:this.placement,moveTo:document.body,restoreTo:this.el,transitionedElement:this.$popover,modifiers:[Le(this.skidding,this.distance),He(),Ve()]})),this.opened&&this.open()}))}async open(){this.popper&&(await this.popper.open(),clearInterval(this.interval),setInterval((()=>this.popper.update()),50))}async close(){this.popper&&(await this.popper.close(),clearInterval(this.interval))}render(){return n(r,null,n("div",{ref:e=>this.$positioner=e,class:"bbj-positioner bbj-positioner--popover",hidden:!0},n("div",{class:"bbj-popper-arrow","data-popper-arrow":!0}),n("div",{ref:e=>this.$popover=e,class:{"bbj-popper":!0,"bbj-popper--validation":!0}},n("bbj-alert",{class:{"bbj-noborder":!0,"bbj-transparent":!0,"bbj-alert--validation":!0},icon:this.icon,message:this.message,theme:this.theme}))))}get el(){return this}static get watchers(){return{opened:["onOpenedChanged"],icon:["onMessageAndIconChanged"],message:["onMessageAndIconChanged"],distance:["onProperOptionsChanged"],placement:["onProperOptionsChanged"],skidding:["onProperOptionsChanged"]}}static get style(){return":host{display:none}"}},[1,"bbj-alert-popover",{distance:[2],icon:[1],message:[1],opened:[1540],skidding:[2],placement:[1],theme:[513],open:[64],close:[64]}]);function Fe(){if("undefined"==typeof customElements)return;["bbj-alert-popover","bbj-alert","bbj-icon","bbj-icon-button"].forEach((e=>{switch(e){case"bbj-alert-popover":customElements.get(e)||customElements.define(e,Ae);break;case"bbj-alert":customElements.get(e)||f();break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v()}}))}Fe();var We=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"].join(","),Re="undefined"==typeof Element,Ne=Re?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,qe=!Re&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},Ke=function e(t,i,o){for(var n=[],r=Array.from(t);r.length;){var s=r.shift();if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,o);o.flatten?n.push.apply(n,l):n.push({scope:s,candidates:l})}else{Ne.call(s,We)&&o.filter(s)&&(i||!t.includes(s))&&n.push(s);var c=s.shadowRoot||"function"==typeof o.getShadowRoot&&o.getShadowRoot(s),d=!o.shadowRootFilter||o.shadowRootFilter(s);if(c&&d){var h=e(!0===c?s.children:c.children,!0,o);o.flatten?n.push.apply(n,h):n.push({scope:s,candidates:h})}else r.unshift.apply(r,s.children)}}return n},Ue=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},$e=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Ye=function(e){return"INPUT"===e.tagName},Ze=function(e){return function(e){return Ye(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,i=e.form||qe(e),o=function(e){return i.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)t=o(window.CSS.escape(e.name));else try{t=o(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var n=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]}(t,e.form);return!n||n===e}(e)},Xe=function(e){var t=e.getBoundingClientRect(),i=t.width,o=t.height;return 0===i&&0===o},Ge=function(e,t){return!(t.disabled||function(e){return Ye(e)&&"hidden"===e.type}(t)||function(e,t){var i=t.displayCheck,o=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var n=Ne.call(e,"details>summary:first-of-type")?e.parentElement:e;if(Ne.call(n,"details:not([open]) *"))return!0;var r=qe(e).host,s=(null==r?void 0:r.ownerDocument.contains(r))||e.ownerDocument.contains(e);if(i&&"full"!==i){if("non-zero-area"===i)return Xe(e)}else{if("function"==typeof o){for(var a=e;e;){var l=e.parentElement,c=qe(e);if(l&&!l.shadowRoot&&!0===o(l))return Xe(e);e=e.assignedSlot?e.assignedSlot:l||c===e.ownerDocument?l:c.host}e=a}if(s)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var i=0;i<t.children.length;i++){var o=t.children.item(i);if("LEGEND"===o.tagName)return!!Ne.call(t,"fieldset[disabled] *")||!o.contains(e)}return!0}t=t.parentElement}return!1}(t))},Qe=function(e,t){return!(Ze(t)||Ue(t)<0||!Ge(e,t))},Je=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},et=function e(t){var i=[],o=[];return t.forEach((function(t,n){var r=!!t.scope,s=r?t.scope:t,a=Ue(s,r),l=r?e(t.candidates):s;0===a?r?i.push.apply(i,l):i.push(s):o.push({documentOrder:n,tabIndex:a,item:t,isScope:r,content:l})})),o.sort($e).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(i)},tt=function(e,t){var i;return i=(t=t||{}).getShadowRoot?Ke([e],t.includeContainer,{filter:Qe.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Je}):function(e,t,i){var o=Array.prototype.slice.apply(e.querySelectorAll(We));return t&&Ne.call(e,We)&&o.unshift(e),o.filter(i)}(e,t.includeContainer,Qe.bind(null,t)),et(i)};const it=e=>{if(function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==Ne.call(e,We)&&Qe(t,e)}(e))return e;const t=tt(e,{getShadowRoot:!0});return t.length?t[0]:null};class ot{constructor(e,t){this.store=[],this.type=e,this.params=t}getType(){return this.type}getParams(){return this.params}evaluate(e,t){try{return this.compile(e)(t,...Object.values(t))}catch(i){const o=this.getType();return console.warn(`[${o}]: Processing of the expression failed`),console.warn(`[${o}]: Expression = `+e),console.warn(`[${o}]: Params:`,t),console.warn(`[${o}]: Exception:`,i),null}}compile(e){if(this.store[e])return this.store[e];let t;if("function"==typeof e)t=e;else{let i=null;i=e.indexOf("return")>=0?e:`return ${e};`,t=new Function(["params"].concat(this.getParams()).join(","),i)}return this.store[e]=t,t}}let nt=0;const rt=window.matchMedia("(any-pointer: coarse)").matches,st=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.selectedEvent=i(this,"bbj-selected",7),this.itemClickedEvent=i(this,"bbj-item-clicked",7),this.itemDbClickedEvent=i(this,"bbj-item-dbclicked",7),this.focusedEvent=i(this,"bbj-focused",7),this.bluredEvent=i(this,"bbj-blured",7),this.validatedEvent=i(this,"bbj-validated",7),this.listId="list-"+ ++nt,this.typeToSelectString="",this.lastSearchIndex=-1,this.validationExpressionEngine=new ot("BBjListBox<bbj-list> Validation",["x","value","text","component","control"]),this.itemRendererExpressionEngine=new ot("BBjListBox<bbj-list> Item Renderer",["x","item","component","control"]),this.loaded=!1,this.autoValidate=!0,this.autoValidateOnLoad=!1,this.autoWasValidated=!1,this.allowDeselection=!1,this.disabled=!1,this.checkmarkIndicator=!1,this.highlightIndicator=!0,this.expanse="m",this.hasFocus=!1,this.items=[],this.invalid=!1,this.invalidMessage=void 0,this.label=void 0,this.multiSelection=!1,this.multiSelectionByClick=!1,this.readonly=!1,this.renderer=void 0,this.selected=[],this.typeToSelect=!0,this.typeToSelectTimeout=1e3,this.typeToSelectCaseSensitive=!1,this.tabTraversable=0,this.validator=void 0,this.validationIcon="bbj:info",this.validationPopoverDistance=6,this.validationPopoverSkidding=0,this.validationPopoverPlacement="bottom",this.validationStyle="popover",this.valid=!1}onSelectedChanged(){this.loaded&&this.autoValidate&&this.validate()}connectedCallback(){this.handleMenuKeyDown=this.handleMenuKeyDown.bind(this),this.handleMenuClick=this.handleMenuClick.bind(this),this.handleMenuDbClick=this.handleMenuDbClick.bind(this),this.handleItemFocus=this.handleItemFocus.bind(this),this.handleItemBlur=this.handleItemBlur.bind(this),this.handleLabelClick=this.handleLabelClick.bind(this)}componentWillUpdate(){this.loaded=!1}async componentDidLoad(){null!=window.applyFocusVisiblePolyfill&&window.applyFocusVisiblePolyfill(this.el.shadowRoot);const e=this.selected;e.length&&await this.scrollToIndex(e[e.length-1]),this.autoValidateOnLoad&&o((()=>this.validate()))}componentDidUpdate(){this.loaded=!0}async handleMenuKeyDown(e){if(!this.readonly&&!this.disabled){if("Enter"===e.key||" "===e.key){const t=await this.getActiveItem();if(t)return e.preventDefault(),void this.updateSelection(t,"enter",!1,!1)}if(" "!==e.key){if(["ArrowDown","ArrowUp","Home","End"].includes(e.key)){e.preventDefault();const t=await this.getActiveItem();if(!t)return;let i=Number(t.dataset.index);return"ArrowDown"===e.key?i=this.getNextIndex(i):"ArrowUp"===e.key?i=this.getPreviousIndex(i):"Home"===e.key?i=this.getFirstIndex():"End"===e.key&&(i=this.getLastIndex()),i<0&&(i=this.getFirstIndex()),i>this.items.length-1&&(i=this.getLastIndex()),this.multiSelection?void await this.activateItem(i):void await this.selectItem(i)}this.typeToSelect&&1===e.key.length&&await this.triggerTypeToSelect(e.key)}else e.preventDefault()}}async setFocus(){let e=await this.getActiveItem();e||(e=await this.getItem(0)),e&&await this.activateItem(e)}async removeFocus(){const e=await this.getActiveItem();e&&e.blur()}async getActiveItem(){var e;let t=this.el.shadowRoot.activeElement;if(!t&&this.selected.length){const i=this.selected[0];t=(null===(e=this.items[i])||void 0===e?void 0:e.disabled)?await this.getItem(this.getNextIndex(i)):await this.getItem(i)}return t}async scrollToIndex(e){const t=await this.getItem(e);t&&requestAnimationFrame((()=>{t.scrollIntoView({behavior:"auto",block:"nearest",inline:"nearest"})}))}async getItem(e){return e instanceof t?e:this.$itemsContainer.querySelector(`[data-index="${e}"]`)}async getNextItem(){const e=await this.getActiveItem();if(e){let t=e.nextElementSibling;for(;t&&t.hasAttribute("data-disabled");)t=t.nextElementSibling;return t}return null}async getPreviousItem(){const e=await this.getActiveItem();if(e){let t=e.previousElementSibling;for(;t&&t.hasAttribute("data-disabled");)t=t.previousElementSibling;return t}return null}async selectNextItem(){const e=await this.getNextItem();e&&(await this.selectItem(e),this.updateSelection(e,"enter",!1,!1))}async selectPreviousItem(){const e=await this.getPreviousItem();e&&await this.selectItem(e)}async selectItem(e){const t=await this.getItem(e);t&&(await this.activateItem(t),this.updateSelection(t,"click",!1,!1))}async activateItem(e){var i;Array.from(this.$itemsContainer.querySelectorAll('[part="item"]')).forEach((e=>{e.tabIndex=-1}));let o=!1,n=-1;e instanceof t?(o="true"===e.dataset.disabled,n=Number(e.dataset.index)):(o=null===(i=this.items[e])||void 0===i?void 0:i.disabled,n=e);const r=o?await this.getItem(this.getNextIndex(n)):await this.getItem(n);r&&(r.tabIndex=0,r.focus())}async search(e,t=!1,i=!1,o=!0){return await this.doSearch(e,t,i,o)}async getPart(e){return new Promise((t=>{t(this.el.shadowRoot.querySelector(`[part="${e}"]`))}))}async validate(){let e=!0;if(this.validator){const t=this.el,i=this.selected.map((e=>this.items[e].value)),o=i.join("\n");e=this.validationExpressionEngine.evaluate(this.validator,{x:i,value:i,text:o,component:t,control:t})}return this.invalid=!e,this.validatedEvent.emit(e),this.invalid&&(this.valid=!1),!this.invalid&&this.autoWasValidated&&(this.valid=!0),e}getNextIndex(e){var t;let i=e+1;for(;i<this.items.length&&(null===(t=this.items[i])||void 0===t?void 0:t.disabled);)i++;return i}getPreviousIndex(e){var t;let i=e-1;for(;i>=0&&(null===(t=this.items[i])||void 0===t?void 0:t.disabled);)i--;return i}getFirstIndex(){var e;let t=0;for(;t<this.items.length&&(null===(e=this.items[t])||void 0===e?void 0:e.disabled);)t++;return t}getLastIndex(){var e;let t=this.items.length-1;for(;t>=0&&(null===(e=this.items[t])||void 0===e?void 0:e.disabled);)t--;return t}getFirstFocusableIndex(){var e;let t=-1;if(this.selected.length)for(let i=0;i<this.selected.length;i++)if(!(null===(e=this.items[this.selected[i]])||void 0===e?void 0:e.disabled)){t=this.selected[i];break}return t<0&&(t=this.getFirstIndex()),t}updateSelection(e,t,i,o){if("true"===e.dataset.disabled)return;const n=!!(this.multiSelection&&i||this.multiSelection&&"enter"===t||this.multiSelection&&rt||this.multiSelection&&this.multiSelectionByClick)||this.allowDeselection,r=Number(e.dataset.index);let s=[].concat(this.selected);if(e.dataset.selected=String(!n||"true"!==e.dataset.selected),"false"===e.dataset.selected)s.indexOf(r)>-1&&(s=s.filter((e=>e!=r)));else if(this.multiSelection&&"enter"===t||this.multiSelection&&(i||o)||this.multiSelection&&rt||this.multiSelection&&this.multiSelectionByClick){if(o&&this.selected.length){const e=Math.min(...this.selected),t=r;s=Array(t>e?t-e:e-t+1).fill(0).map(((i,o)=>t>e?e+o:e-o))}s=[...s,r]}else s=[r];this.selected=[...new Set(s)];const a=[];this.items.forEach(((e,t)=>{this.selected.indexOf(t)>-1&&a.push({index:t,item:e})})),this.selectedEvent.emit(a)}async doSearch(e,t=!1,i=!1,o=!0,n=!1){let r=!1,s=-1;const a=t?e:e.toLowerCase(),l=this.items.filter((e=>"object"==typeof e));for(let e=0;e<l.length;e++){s=e;const i=l[s];if(null==i?void 0:i.disabled)continue;let o=i.label.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e)))||"";if(o=t?o:o.toLowerCase(),o.substring(0,a.length)==a&&-1===this.selected.indexOf(s)){if(this.lastSearchIndex>s)continue;r=!0,this.lastSearchIndex=s;break}}return r?(await this.selectItem(s),s):(this.lastSearchIndex=-1,n?null:await this.doSearch(e,t,i,o,!0))}async triggerTypeToSelect(e){(this.lastKeypressTime+this.typeToSelectTimeout<(new Date).getTime()||this.typeToSelectString==e)&&(this.typeToSelectString=""),this.typeToSelectString+=e.toLowerCase(),this.lastKeypressTime=(new Date).getTime(),await this.doSearch(this.typeToSelectString,this.typeToSelectCaseSensitive,!0)}handleLabelClick(){this.setFocus()}handleMenuClick(e){if(this.readonly||this.disabled)return;const t=e.target.closest('[part="item"]');if(t&&"true"===t.dataset.disabled)return;const i=e.ctrlKey||e.metaKey,o=e.shiftKey;if(t&&this.updateSelection(t,"click",i,o),e.composedPath().includes(t)){const e=Number(t.dataset.index);this.itemClickedEvent.emit({index:e,item:this.items[e]})}}handleMenuDbClick(e){if(this.readonly||this.disabled)return;const t=e.target.closest('[part="item"]');if("true"!==t.dataset.disabled&&e.composedPath().includes(t)){const e=Number(t.dataset.index);this.itemDbClickedEvent.emit({index:e,item:this.items[e]})}}handleItemFocus(){this.hasFocus=!0}handleItemBlur(){this.hasFocus=!1}renderItemLabel(e){return this.renderer?this.itemRendererExpressionEngine.evaluate(this.renderer,{x:e,item:e,component:this.el,control:this.el}):e.label}render(){const e=this.invalid&&!!(this.invalidMessage&&this.invalidMessage.trim().length>0),t=this.getFirstFocusableIndex();let i=this.selected;return!this.multiSelection&&i.length&&(i=[i[0]]),n(r,{class:{BBjControl:!0,BBjListBox:!0,"bbj-disabled":this.disabled,"bbj-focused":this.hasFocus,"bbj-readonly":this.readonly,"bbj-valid":this.valid,"bbj-invalid":this.invalid}},n("div",{part:"container",class:{container:!0,"container--xs":"xs"===this.expanse,"container--s":"s"===this.expanse,"container--m":"m"===this.expanse,"container--l":"l"===this.expanse,"container--xl":"xl"===this.expanse}},this.label&&n("div",{part:"label",id:this.listId,class:"container__label",onClick:this.handleLabelClick,innerHTML:this.label}),n("div",{part:"control-wrapper",class:"container__controlWrapper"},n("div",{part:"control",class:{control:!0,"control--readonly":this.readonly,"control--disabled":this.disabled,"control--focused":this.hasFocus}},n("ul",{ref:e=>this.$itemsContainer=e,role:"listbox",part:"list",class:"control__list","aria-multiselectable":this.multiSelection?"true":"false","aria-readonly":this.readonly?"true":"false","aria-disabled":this.disabled?"true":"false","aria-labelledby":this.listId,onClick:this.handleMenuClick,onDblClick:this.handleMenuDbClick},this.items.map(((e,o)=>{const r=(null==e?void 0:e.disabled)||!1,s=i.indexOf(o)>-1;return n("li",{role:"option",part:"item",tabIndex:o!==t||this.tabTraversable<0?-1:0,class:{control__item:!0,"control__item--selected-highlight":s&&this.highlightIndicator,"control__item--disabled":r},key:o,"data-index":o,"data-disabled":r?"true":"false","data-selected":s?"true":"false",onFocus:this.handleItemFocus,onBlur:this.handleItemBlur},n("bbj-icon",{pool:"bbj",name:"check",part:"item-checkmark",class:{control__item__checkmark:!0,"control__item__checkmark--selected":this.checkmarkIndicator&&s}}),e.prefix&&n("span",{slot:"prefix",part:"item-prefix",class:"control__item__prefix",innerHTML:e.prefix}),n("span",{slot:"label",part:"item-label",class:"control__item__label",innerHTML:this.renderItemLabel(e)}),e.suffix&&n("span",{slot:"suffix",part:"item-suffix",class:"control__item__suffix",innerHTML:e.suffix}))}))))),e&&"inline"===this.validationStyle&&n("bbj-alert",{part:"alert",class:{"bbj-noborder":!0},icon:this.validationIcon,message:this.invalidMessage,opened:e&&"inline"===this.validationStyle,theme:"default"})),e&&"popover"===this.validationStyle&&n("bbj-alert-popover",{part:"alert-popover",distance:this.validationPopoverDistance,icon:this.validationIcon,message:this.invalidMessage,opened:this.hasFocus&&e&&"popover"===this.validationStyle,placement:this.validationPopoverPlacement,skidding:this.validationPopoverSkidding,theme:"danger"}))}get el(){return this}static get watchers(){return{selected:["onSelectedChanged"]}}static get style(){return'@media (prefers-reduced-motion: reduce){*,::before,::after{animation-delay:-1ms !important;animation-duration:1ms !important;animation-iteration-count:1 !important;background-attachment:initial !important;scroll-behavior:auto !important;transition-delay:0s !important;transition-duration:0s !important}}:host{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;-webkit-tap-highlight-color:transparent;text-size-adjust:100%}:host *,:host *::before,:host *::after{box-sizing:inherit}:host{display:block;outline:none}:host([disabled]){cursor:var(--bbj-disabled-cursor)}.container{display:flex;flex-direction:column;height:inherit;max-height:inherit;overflow:hidden;transition:var(--bbj-transition) color, var(--bbj-transition) border, var(--bbj-transition) box-shadow;width:inherit}.container__label{align-items:center;color:var(--bbj-list-label-color, var(--bbj-color-body-text));cursor:var(--bbj-cursor-click);display:flex;font-size:90%;font-weight:var(--bbj-list-label-font-weight, var(--bbj-font-weight-semibold));gap:0.3rem;height:auto;margin:0 var(--bbj-space-xs) var(--bbj-focus-ring-width);transition:var(--bbj-transition) color}.control{height:100%;overflow:auto;width:100%}.control--disabled{cursor:var(--bbj-disabled-cursor);opacity:var(--bbj-disabled-opacity);user-select:none;pointer-events:none;overflow:hidden}.control--disabled *{cursor:var(--bbj-disabled-cursor);user-select:none;pointer-events:none}.control__list{display:inline-block;list-style:none;margin:0;min-width:100%;padding:0}.control__item{align-items:center;color:var(--bbj-list-color, var(--bbj-color-body-text));cursor:var(--bbj-cursor-click);display:flex;font-family:inherit;font-size:inherit;font-style:inherit;outline:none;padding:var(--bbj-list-padding, var(--bbj-space));position:relative;transition:fill var(--bbj-transition);user-select:none;white-space:nowrap;width:100%}.control__item:focus{outline:none}.control__item:not(.control__item--disabled){overflow:hidden;position:relative}.control__item:not(.control__item--disabled)::after{background-image:radial-gradient(circle, var(--bbj-ripple-color, currentColor) 10%, transparent 10.01%);background-position:50%;background-repeat:no-repeat;content:"";display:block;height:100%;left:0;opacity:0;pointer-events:none;position:absolute;top:0;transform:scale(10, 10);transition:transform 0.5s, opacity 1s;width:100%}.control__item:not(.control__item--disabled):active::after{opacity:0.2;transform:scale(0, 0);transition:0s}.control__item--disabled{cursor:var(--bbj-disabled-cursor);opacity:var(--bbj-disabled-opacity);user-select:none}.control__item--disabled *{cursor:var(--bbj-disabled-cursor);user-select:none}.control__item__label{flex:1 1 auto;margin:0 var(--bbj-space-s)}.control__item__prefix,.control__item__suffix{align-items:center;display:inline-flex;flex:0 1 auto}.control__item__prefix img,.control__item__suffix img{margin:0 var(--bbj-space-xs);max-height:100%}bbj-alert{--bbj-alert-padding:var(--bbj-space-s) 0}.container__controlWrapper{background-color:var(--bbj-list-background, inherit);border:var(--bbj-border-width) var(--bbj-border-style) var(--bbj-list-border-color, var(--bbj-color-default));border-radius:var(--bbj-border-radius);box-sizing:border-box;height:100%;margin:var(--bbj-focus-ring-width);overflow:auto}.container__controlWrapper:hover{border-color:var(--bbj-list-hover-border-color, var(--bbj-border-color-default))}.container__controlWrapper .control__item:not(.control__item--disabled):not(.control__item--selected-highlight):focus,.container__controlWrapper .control__item:not(.control__item--disabled):not(.control__item--selected-highlight):focus-within,.container__controlWrapper .control__item:not(.control__item--disabled):not(.control__item--selected-highlight):hover{background-color:var(--bbj-list-highlighted-background, var(--bbj-color-primary-alt));color:var(--bbj-list-highlighted-color, var(--bbj-color-on-primary-text-alt))}.container__controlWrapper .control__item{background-color:var(--bbj-list-item-background, transparent);color:var(--bbj-list-item-color, currentColor)}.container__controlWrapper .control__item--selected-highlight{background-color:var(--bbj-list-selected-background, var(--bbj-color-primary));color:var(--bbj-list-selected-color, var(--bbj-color-on-primary-text))}.container__controlWrapper .control__item__checkmark{visibility:hidden}.container__controlWrapper .control__item__checkmark--selected{visibility:visible}:host([has-focus]) .container__controlWrapper{border-color:var(--bbj-list-hover-border-color, var(--bbj-border-color-default))}:host(.focus-visible) .container__controlWrapper{border-color:var(--bbj-list-hover-border-color, var(--bbj-border-color-default));box-shadow:var(--bbj-list-focus-ring, var(--bbj-focus-ring-default))}:host([has-focus]) .container__label{color:var(--bbj-list-label-hover-color, var(--bbj-color-primary-text-light))}:host([invalid]){--bbj-list-label-color:var(--bbj-color-danger-text);--bbj-list-label-hover-color:var(--bbj-list-label-color);--bbj-list-border-color:var(--bbj-color-danger);--bbj-list-hover-border-color:var(--bbj-list-border-color);--bbj-list-focus-ring:var(--bbj-focus-ring-danger);--bbj-alert-color:var(--bbj-list-label-color);--bbj-alert-icon-color:var(--bbj-alert-color)}.container--xl{font-size:var(--bbj-font-size-xl)}.container--xl .control__item{height:var(--bbj-size-xl)}.container--l{font-size:var(--bbj-font-size-l)}.container--l .control__item{height:var(--bbj-size-l)}.container--m{font-size:var(--bbj-font-size-m)}.container--m .control__item{height:var(--bbj-size-m)}.container--s{font-size:var(--bbj-font-size-s)}.container--s .control__item{height:var(--bbj-size-s)}.container--xs{font-size:var(--bbj-font-size-xs)}.container--xs .control__item{height:var(--bbj-size-xs)}'}},[1,"bbj-list",{autoValidate:[4,"auto-validate"],autoValidateOnLoad:[4,"auto-validate-on-load"],autoWasValidated:[4,"auto-was-validated"],allowDeselection:[4,"allow-deselection"],disabled:[516],checkmarkIndicator:[516,"checkmark-indicator"],highlightIndicator:[516,"highlight-indicator"],expanse:[513],hasFocus:[1540,"has-focus"],items:[1040],invalid:[1540],invalidMessage:[1,"invalid-message"],label:[1],multiSelection:[516,"multi-selection"],multiSelectionByClick:[4,"multi-selection-by-click"],readonly:[516],renderer:[1],selected:[1040],typeToSelect:[4,"type-to-select"],typeToSelectTimeout:[2,"type-to-select-timeout"],typeToSelectCaseSensitive:[4,"type-to-select-case-sensitive"],tabTraversable:[2,"tab-traversable"],validator:[1],validationIcon:[1,"validation-icon"],validationPopoverDistance:[2,"validation-popover-distance"],validationPopoverSkidding:[2,"validation-popover-skidding"],validationPopoverPlacement:[1,"validation-popover-placement"],validationStyle:[513,"validation-style"],valid:[1540],setFocus:[64],removeFocus:[64],getActiveItem:[64],scrollToIndex:[64],getItem:[64],getNextItem:[64],getPreviousItem:[64],selectNextItem:[64],selectPreviousItem:[64],selectItem:[64],activateItem:[64],search:[64],getPart:[64],validate:[64]},[[0,"keydown","handleMenuKeyDown"]]]);function at(){if("undefined"==typeof customElements)return;["bbj-list","bbj-alert","bbj-alert-popover","bbj-icon","bbj-icon-button"].forEach((e=>{switch(e){case"bbj-list":customElements.get(e)||customElements.define(e,st);break;case"bbj-alert":customElements.get(e)||f();break;case"bbj-alert-popover":customElements.get(e)||Fe();break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v()}}))}at();const lt=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.openedEvent=i(this,"bbj-opened",7),this.closedEvent=i(this,"bbj-closed",7),this.cancelEvent=i(this,"bbj-canceled",7),this.selectedEvent=i(this,"bbj-selected",7),this.itemClickedEvent=i(this,"bbj-item-clicked",7),this.itemDbClickedEvent=i(this,"bbj-item-dbclicked",7),this.typeToSelectString="",this.multiSelectionByClick=!1,this.closeOnClick=!0,this.closeOnDbClick=!0,this.checkmarkIndicator=!1,this.highlightIndicator=!0,this.focusOnOpen=!0,this.allowDeselection=!1,this.disabled=!1,this.distance=3,this.expanse="m",this.items=[],this.multiSelection=!1,this.maxRowCount=void 0,this.toggleOnClick=!0,this.toggleOnEnter=!0,this.openOnArrow=!0,this.opened=!1,this.openWidth="",this.openHeight="",this.placement="bottom-start",this.readonly=!1,this.renderer=void 0,this.selected=[],this.skidding=0,this.typeToSelect=!0,this.typeToSelectTimeout=1e3,this.typeToSelectCaseSensitive=!1,this.type=void 0}onOpenedChanged(){this.opened?this.open():this.close()}onWidthAndHeightChange(){this.updateDropdownStyle()}onProperOptionsChanged(){this.popper&&this.popper.setOptions({placement:this.placement,modifiers:[Le(this.skidding,this.distance),He()]})}connectedCallback(){this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.handleMenuSelect=this.handleMenuSelect.bind(this),this.handleMenuItemClicked=this.handleMenuItemClicked.bind(this),this.handleMenuItemDbClicked=this.handleMenuItemDbClicked.bind(this),this.handleMenuKeyDown=this.handleMenuKeyDown.bind(this),this.handleHandlerClick=this.handleHandlerClick.bind(this),this.handleHandlerKeyDown=this.handleHandlerKeyDown.bind(this),this.handleHandlerKeyUp=this.handleHandlerKeyUp.bind(this)}componentDidLoad(){null!=window.applyFocusVisiblePolyfill&&window.applyFocusVisiblePolyfill(this.el.shadowRoot),window.MutationObserver&&(this.mutationObserver=new MutationObserver((()=>{this.updateHandlerAccessible()})),this.mutationObserver.observe(this.el,{childList:!0,subtree:!0})),this.popper=new Pe(this.handler,this.positioner,{placement:this.placement,moveTo:document.body,restoreTo:this.el,transitionedElement:this.menu,modifiers:[Le(this.skidding,this.distance),He()],onAfterOpen:async()=>{this.focusOnOpen&&(await this.forceScroll(),await this.menu.setFocus())}}),this.opened&&this.open()}disconnectedCallback(){this.close(),this.popper&&this.popper.destroy()}async open(){return this.doOpen(!1)}async close(){return this.doClose(!1)}async toggle(){return this.doToggle(!1)}async getMenu(){return this.menu}async reposition(){this.isOpened&&this.popper&&this.popper.forceUpdate()}async forceScroll(){if(this.isOpened&&this.selected.length){const e=this.selected[this.selected.length-1];await this.menu.scrollToIndex(e)}}async doOpen(e=!0){this.readonly||this.disabled||this.isOpened||(document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown),await this.popper.open(),this.updateDropdownStyle(),this.isOpened=!0,this.opened=!0,e&&this.openedEvent.emit())}async doClose(e=!0){this.readonly||this.disabled||!this.isOpened||(document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),await this.popper.close(),this.isOpened=!1,this.opened=!1,this.focusHandler(),e&&this.closedEvent.emit())}async doToggle(e=!0){this.opened?await this.doClose(e):await this.doOpen(e)}focusHandler(){const e=this.handler.querySelector("slot").assignedElements({flatten:!0})[0];e&&("function"==typeof e.setFocus?e.setFocus():"function"==typeof e.focus&&e.focus())}updateHandlerAccessible(){const e=this.handler.querySelector("slot").assignedElements({flatten:!0});if(e&&e.length){const t=it(e[0]);t&&(t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded",this.opened?"true":"false"))}}async updateDropdownStyle(){if(!this.menu)return;const e=this.menu;let t=this.openHeight?this.openHeight:e.style.getPropertyValue("--bbj-dropdown-max-height");const i=this.openWidth?this.openWidth:this.handler.offsetWidth+"px",o=this.maxRowCount;if(o>0){const e=await this.getRowHeight();if(e>0){t=o*e+"px"}}e.style.maxHeight=t,this.positioner.style.width=e.style.width=i;const n=window.getComputedStyle(this.el).textAlign;n&&(e.style.textAlign=n),this.reposition(),this.forceScroll()}async getRowHeight(){const e=this.menu;if(e){const t=e.shadowRoot.querySelector('[part="item"]');if(t)return t.offsetHeight}return 0}async triggerTypeToSelect(e){(this.lastKeypressTime+this.typeToSelectTimeout<(new Date).getTime()||this.typeToSelectString==e)&&(this.typeToSelectString=""),this.typeToSelectString+=e.toLowerCase(),this.lastKeypressTime=(new Date).getTime();const t=await this.menu.search(this.typeToSelectString,this.typeToSelectCaseSensitive);this.selected=[t],await this.menu.scrollToIndex(t),this.selectedEvent.emit([{index:t,item:this.items[t]}])}handleDocumentKeyDown(e){if("Escape"===e.key)return this.cancelEvent.emit(),this.doClose(),void this.focusHandler();if("Tab"===e.key){if(this.opened&&this.menu.isSameNode(document.activeElement))return e.preventDefault(),this.doClose(),void this.focusHandler();setTimeout((()=>{var e;const t=this.el.getRootNode()instanceof ShadowRoot?null===(e=document.activeElement.shadowRoot)||void 0===e?void 0:e.activeElement:document.activeElement;(null==t?void 0:t.closest(this.el.tagName.toLowerCase()))===this.el||this.doClose()}))}}handleDocumentMouseDown(e){const t=e.composedPath();t.includes(this.handler)||t.includes(this.menu)||this.doToggle()}handleMenuSelect(e){this.selectedEvent.emit(e.detail),this.selected=e.detail.map((e=>e.index))}handleMenuItemClicked(e){this.itemClickedEvent.emit(e.detail),this.closeOnClick&&this.doClose(!0)}handleMenuItemDbClicked(e){this.itemDbClickedEvent.emit(e.detail),this.closeOnDbClick&&this.doClose(!0)}handleMenuKeyDown(e){if(["Enter","Escape"].includes(e.key)){if(e.preventDefault(),"Escape"===e.key&&this.cancelEvent.emit(),this.multiSelection)return;return this.doClose(),void this.focusHandler()}}handleHandlerClick(){this.toggleOnClick&&this.doToggle()}async handleHandlerKeyDown(e){if(!this.readonly&&!this.disabled){if("Escape"===e.key)return this.cancelEvent.emit(),this.focusHandler(),void this.doClose();if(["Enter"].includes(e.key)&&this.toggleOnEnter)return e.preventDefault(),void this.doToggle();if(["ArrowDown","ArrowUp","Home","End"].includes(e.key)){e.preventDefault(),this.openOnArrow&&!1===this.opened&&this.doOpen();const t=this.menu,i=await t.getActiveItem();let o=i?Number(i.dataset.index):-1;return"ArrowDown"===e.key?o++:"ArrowUp"===e.key?o--:"Home"===e.key?o=0:"End"===e.key&&(o=this.items.length-1),o<0&&(o=0),o>this.items.length-1&&(o=this.items.length-1),this.multiSelection?void t.activateItem(o):void await t.selectItem(o)}this.typeToSelect&&1===e.key.length&&await this.triggerTypeToSelect(e.key)}}handleHandlerKeyUp(e){" "===e.key&&e.preventDefault()}render(){return n("div",{part:"control",class:{control:!0,"control--opened":this.opened}},n("div",{part:"handler",class:"control__handler",ref:e=>this.handler=e,onClick:this.handleHandlerClick,onKeyDown:this.handleHandlerKeyDown,onKeyUp:this.handleHandlerKeyUp},n("slot",null)),n("div",{ref:e=>this.positioner=e,class:"bbj-positioner bbj-positioner--dropdown"},n("bbj-list",{ref:e=>this.menu=e,class:"bbj-popper bbj-popper--dropdown",tabTraversable:-1,items:this.items,selected:this.selected,allowDeselection:this.allowDeselection,multiSelectionByClick:this.multiSelectionByClick,disabled:this.disabled,readonly:this.readonly,renderer:this.renderer,multiSelection:this.multiSelection,typeToSelect:this.typeToSelect,checkmarkIndicator:this.checkmarkIndicator,highlightIndicator:this.highlightIndicator,expanse:this.expanse,onKeyDown:this.handleMenuKeyDown,"onBbj-item-clicked":this.handleMenuItemClicked,"onBbj-item-dbclicked":this.handleMenuItemDbClicked,"onBbj-selected":this.handleMenuSelect,"data-dropdown-for":this.type})))}get el(){return this}static get watchers(){return{opened:["onOpenedChanged"],openWidth:["onWidthAndHeightChange"],openHeight:["onWidthAndHeightChange"],distance:["onProperOptionsChanged"],placement:["onProperOptionsChanged"],skidding:["onProperOptionsChanged"]}}static get style(){return"@media (prefers-reduced-motion: reduce){*,::before,::after{animation-delay:-1ms !important;animation-duration:1ms !important;animation-iteration-count:1 !important;background-attachment:initial !important;scroll-behavior:auto !important;transition-delay:0s !important;transition-duration:0s !important}}:host{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;-webkit-tap-highlight-color:transparent;text-size-adjust:100%}:host *,:host *::before,:host *::after{box-sizing:inherit}:host{display:inline-block;text-align:inherit;width:100%}.control{position:relative}"}},[1,"bbj-dropdown",{multiSelectionByClick:[4,"multi-selection-by-click"],closeOnClick:[4,"close-on-click"],closeOnDbClick:[4,"close-on-db-click"],checkmarkIndicator:[516,"checkmark-indicator"],highlightIndicator:[516,"highlight-indicator"],focusOnOpen:[516,"focus-on-open"],allowDeselection:[4,"allow-deselection"],disabled:[516],distance:[2],expanse:[513],items:[1040],multiSelection:[516,"multi-selection"],maxRowCount:[2,"max-row-count"],toggleOnClick:[4,"toggle-on-click"],toggleOnEnter:[4,"toggle-on-enter"],openOnArrow:[4,"open-on-arrow"],opened:[1540],openWidth:[1,"open-width"],openHeight:[1,"open-height"],placement:[1],readonly:[516],renderer:[1],selected:[1040],skidding:[2],typeToSelect:[4,"type-to-select"],typeToSelectTimeout:[2,"type-to-select-timeout"],typeToSelectCaseSensitive:[4,"type-to-select-case-sensitive"],type:[513],open:[64],close:[64],toggle:[64],getMenu:[64],reposition:[64],forceScroll:[64]}]);function ct(){if("undefined"==typeof customElements)return;["bbj-dropdown","bbj-alert","bbj-alert-popover","bbj-icon","bbj-icon-button","bbj-list"].forEach((e=>{switch(e){case"bbj-dropdown":customElements.get(e)||customElements.define(e,lt);break;case"bbj-alert":customElements.get(e)||f();break;case"bbj-alert-popover":customElements.get(e)||Fe();break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v();break;case"bbj-list":customElements.get(e)||at()}}))}ct();let dt=0;const ht=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.modifiedEvent=i(this,"bbj-modified",7),this.focusedEvent=i(this,"bbj-focused",7),this.bluredEvent=i(this,"bbj-blured",7),this.spinedUpEvent=i(this,"bbj-spined-up",7),this.spinedDownEvent=i(this,"bbj-spined-down",7),this.validatedEvent=i(this,"bbj-validated",7),this.inputId="editbox-"+ ++dt,this.isMouseInComponent=!1,this.lastSelectionStart=0,this.lastSelectionEnd=0,this.validationExpressionEngine=new ot("BBjEditbox<bbj-editbox> Validation",["x","value","text","component","control"]),this.isPasswordVisible=!1,this.accept="",this.autoValidate=!0,this.autoValidateOnLoad=!1,this.autoWasValidated=!1,this.autocomplete="off",this.autofocus=!1,this.autocorrect="off",this.disabled=!1,this.expanse="m",this.hasFocus=!1,this.highlightBehaviors=[],this.invalid=!1,this.invalidMessage="",this.label=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=void 0,this.pattern=void 0,this.placeholder=void 0,this.passwordReveal=!0,this.readonly=!1,this.required=!1,this.size=void 0,this.spellcheck=!1,this.step=void 0,this.showSpinners=!1,this.spinnable=!1,this.tabTraversable=0,this.type="text",this.validator=void 0,this.validationIcon="bbj:info",this.validationPopoverDistance=6,this.validationPopoverSkidding=0,this.validationPopoverPlacement="bottom",this.validationStyle="popover",this.valid=!1,this.value=""}onValueChanged(){this.autoValidate&&this.validate()}connectedCallback(){this.handleMouseEnter=this.handleMouseEnter.bind(this),this.handleMouseLeave=this.handleMouseLeave.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleBlur=this.handleBlur.bind(this),this.handleInput=this.handleInput.bind(this),this.handleSpinUp=this.handleSpinUp.bind(this),this.handleSpinDown=this.handleSpinDown.bind(this),this.handlePasswordToggle=this.handlePasswordToggle.bind(this)}componentDidLoad(){null!=window.applyFocusVisiblePolyfill&&window.applyFocusVisiblePolyfill(this.el.shadowRoot),this.autoValidateOnLoad&&requestAnimationFrame((()=>this.validate()))}onWindowKeyup(e){if(9===(e.keyCode?e.keyCode:e.which)&&this.hasFocus){(this.highlightBehaviors||[]).indexOf("KEY")>-1&&this.selectAll()}}handleKeyUp(e){switch(e.key){case"ArrowUp":e.preventDefault(),this.spin(!0);break;case"ArrowDown":e.preventDefault(),this.spin(!1)}}handleWheel(e){if(!this.hasFocus)return;let t;if(e.preventDefault(),"touchmove"===e.type){const i=e.touches[0].clientY;t=i<this.lastTouchY?"up":"down",this.lastTouchY=i}else"wheel"!==e.type&&"mousewheel"!==e.type||(t=e.deltaY<0?"up":"down");this.spin("up"===t)}async spin(e){this.spinnable&&(e?this.spinedUpEvent.emit():this.spinedDownEvent.emit())}async setFocus(){if(this.el.shadowRoot.activeElement===this.input)return;this.input.focus();try{this.input.setSelectionRange(this.lastSelectionStart,this.lastSelectionEnd)}catch(e){}const e=this.highlightBehaviors||[];!this.isMouseInComponent&&e.indexOf("REQUEST")>-1&&this.selectAll()}async removeFocus(){this.input.blur(),this.isMouseInComponent=!1}async selectAll(){if(!this.disabled&&!this.readonly)try{this.input.setSelectionRange(0,this.input.value.length)}catch(e){}}async setSelectionRange(e,t){if(!this.disabled&&!this.readonly)try{this.input.setSelectionRange(e,t)}catch(e){}}async getSelectionRange(){return this.disabled||this.readonly?{start:0,end:0}:{start:this.input.selectionStart,end:this.input.selectionEnd}}async setCursorPos(e){if(!this.disabled&&!this.readonly)try{this.input.setSelectionRange(e,e+1)}catch(e){}}async getCursorPos(){return this.disabled&&this.readonly||!this.hasFocus?0:this.input.selectionStart}async getPart(e){return new Promise((t=>{t(this.el.shadowRoot.querySelector(`[part="${e}"]`))}))}async validate(){let e=!0;if(this.validator){const t=this.value,i=this.el;e=this.validationExpressionEngine.evaluate(this.validator,{x:t,value:t,text:t,component:i,control:i})}else try{e=this.input.checkValidity()}catch(e){}return this.invalid=!e,this.validatedEvent.emit(e),this.invalid&&(this.valid=!1),!this.invalid&&this.autoWasValidated&&(this.valid=!0),e}handleMouseEnter(){this.isMouseInComponent=!0}handleMouseLeave(){this.isMouseInComponent=!1}handleFocus(){this.hasFocus=!0;try{this.input.setSelectionRange(this.lastSelectionStart,this.lastSelectionEnd)}catch(e){}const e=this.highlightBehaviors||[];this.isMouseInComponent&&e.indexOf("MOUSE")>-1&&this.selectAll(),this.focusedEvent.emit()}handleBlur(){this.lastSelectionStart=this.input.selectionStart,this.lastSelectionEnd=this.input.selectionEnd,this.hasFocus=!1,this.bluredEvent.emit()}handleInput(e){const t=e.target;this.value=t.value,this.fireModifiedEvent()}handleSpinUp(){this.spin(!0)}handleSpinDown(){this.spin(!1)}handlePasswordToggle(){this.isPasswordVisible=!this.isPasswordVisible}fireModifiedEvent(){this.readonly||this.disabled||requestAnimationFrame((()=>{this.modifiedEvent.emit(this.value)}))}render(){const e=this.invalid&&!!(this.invalidMessage&&this.invalidMessage.trim().length>0),t=(this.label||"").trim();return n(r,{class:{BBjControl:!0,BBjEditBox:!0,"bbj-disabled":this.disabled,"bbj-focused":this.hasFocus,"bbj-readonly":this.readonly,"bbj-hasLabel":this.label&&this.label.length>0,"bbj-valid":this.valid,"bbj-invalid":this.invalid,"bbj-password":"password"===this.type,"bbj-required":this.required}},n("div",{part:"control",class:{control:!0,"control--disabled":this.disabled,"control--focused":this.hasFocus,"control--readonly":this.readonly,"control--hasLabel":this.label&&this.label.length>0,"control--valid":this.valid,"control--invalid":this.invalid,"control--xs":"xs"===this.expanse,"control--s":"s"===this.expanse,"control--m":"m"===this.expanse,"control--l":"l"===this.expanse,"control--xl":"xl"===this.expanse}},t.length>0&&n("label",{part:"label",class:"control__label",htmlFor:this.inputId,innerHTML:this.label}),n("div",{part:"input-wrapper",class:"control__inputWrapper"},n("span",{part:"prefix",class:"control__prefix"},n("slot",{name:"prefix"})),n("input",{id:this.inputId,ref:e=>this.input=e,part:"input",class:{control__input:!0,[`input__control--${this.type}`]:!0},accept:this.accept,autocomplete:this.autocomplete,autocorrect:this.autocorrect,autocapitalize:"off",autoFocus:this.autofocus,disabled:this.disabled,max:this.max,maxlength:this.maxlength,min:this.min,minlength:this.minlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder,readOnly:this.readonly,required:this.required,size:this.size,spellcheck:this.spellcheck,step:this.step,type:"password"===this.type&&this.isPasswordVisible?"text":this.type,value:this.value,tabIndex:this.disabled?-1:this.tabTraversable,onFocus:this.handleFocus,onBlur:this.handleBlur,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onInput:this.handleInput}),n("span",{part:"suffix",class:"control__suffix"},n("slot",{name:"suffix"})),this.showSpinners&&n("span",{part:"spinners",class:"control__spinners"},n("bbj-icon-button",{part:"up-button",pool:"bbj",name:"chevron-up","tab-traversable":"-1",disabled:this.disabled,onClick:this.handleSpinUp}),n("bbj-icon-button",{part:"down-button",pool:"bbj",name:"chevron-down","tab-traversable":"-1",disabled:this.disabled,onClick:this.handleSpinDown})),this.passwordReveal&&"password"===this.type&&n("span",{part:"password-reveal",class:"control__passwordReveal"},this.isPasswordVisible?n("bbj-icon-button",{part:"eye-icon",pool:"bbj",name:"eye-off",focusVisible:!1,onClick:this.handlePasswordToggle}):n("bbj-icon-button",{part:"eye-off-icon",pool:"bbj",name:"eye",focusVisible:!1,onClick:this.handlePasswordToggle})))),e&&"inline"===this.validationStyle&&n("bbj-alert",{part:"alert",class:{"bbj-noborder":!0},icon:this.validationIcon,message:this.invalidMessage,opened:e&&"inline"===this.validationStyle,theme:"default"}),e&&"popover"===this.validationStyle&&n("bbj-alert-popover",{part:"alert-popover",distance:this.validationPopoverDistance,icon:this.validationIcon,message:this.invalidMessage,opened:this.hasFocus&&e&&"popover"===this.validationStyle,placement:this.validationPopoverPlacement,skidding:this.validationPopoverSkidding,theme:"danger"}))}get el(){return this}static get watchers(){return{value:["onValueChanged"]}}static get style(){return'@charset "UTF-8";@media (prefers-reduced-motion: reduce){*,::before,::after{animation-delay:-1ms !important;animation-duration:1ms !important;animation-iteration-count:1 !important;background-attachment:initial !important;scroll-behavior:auto !important;transition-delay:0s !important;transition-duration:0s !important}}:host{box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;position:relative;-webkit-tap-highlight-color:transparent;text-size-adjust:100%}:host *,:host *::before,:host *::after{box-sizing:inherit}:host{display:inline-block;flex-grow:1}:host(:focus),:host(:active){outline:none}:host([disabled]){cursor:var(--bbj-disabled-cursor)}.control{font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;height:inherit;width:100%}.control--disabled{cursor:var(--bbj-disabled-cursor);opacity:var(--bbj-disabled-opacity);user-select:none;pointer-events:none}.control--disabled *{cursor:var(--bbj-disabled-cursor);user-select:none;pointer-events:none}.control__label{align-items:center;color:var(--bbj-input-label-color, var(--bbj-color-body-text));cursor:var(--bbj-cursor-click);display:none;font-size:90%;font-weight:var(--bbj-input-label-font-weight, var(--bbj-font-weight-semibold));gap:0.3rem;height:auto;margin:0;margin-bottom:var(--bbj-space-s);text-align:left;transition:var(--bbj-transition) color}.control__label::after{color:var(--bbj-input-required-field-indicator-color, var(--bbj-color-primary-text));content:var(--bbj-input-required-field-indicator, "•");opacity:0;padding:0 var(--bbj-space-xs);text-align:center;transition:opacity var(--bbj-transition);width:1em}:host([required]) .control__label::after{opacity:1}.control--hasLabel .control__label{display:flex}.control__inputWrapper{align-items:center;background:var(--bbj-input-background, var(--bbj-color-default-light));border:var(--bbj-input-border-width, var(--bbj-border-width)) var(--bbj-input-border-style, var(--bbj-border-style)) var(--bbj-input-border-color, var(--bbj-color-default-dark));border-radius:var(--bbj-border-radius);display:inline-flex;flex:1 1 auto;font-weight:var(--bbj-input-font-weight, var(--bbj-font-weight-semibold));height:100%;justify-content:start;overflow:hidden;position:relative;transform:translateZ(0);transition:var(--bbj-transition) background-color, var(--bbj-transition) color, var(--bbj-transition) border-color, var(--bbj-transition) box-shadow var(--bbj-ease-inOutBack);vertical-align:middle;width:100%}.control:hover:not(.control--disabled):not(.control--readonly) .control__inputWrapper,:host(:focus:not(.bbj-disabled)) .control__inputWrapper,:host(.focus-visible:not(.bbj-disabled)) .control__inputWrapper{background-color:var(--bbj-input-hover-background, var(--bbj-color-default-light));border-color:var(--bbj-input-hover-border-color, var(--bbj-border-color-default));color:var(--bbj-input-hover-color, var(--bbj-color-on-default-text-light))}:host(.focus-visible:not(.bbj-disabled)) .control__inputWrapper{box-shadow:var(--bbj-input-focus-ring, var(--bbj-focus-ring-default));}.control__input{appearance:none;background:none;border:unset;box-shadow:none;color:var(--bbj-input-color, currentColor);cursor:var(--bbj-cursor-text);flex:1 1 auto;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;margin:0;min-width:0;padding:var(--bbj-space);text-align:inherit}.control__input::placeholder{color:var(--bbj-input-placeholder-color, var(--bbj-color-gray-60));user-select:none}.control__input:focus{outline:none}.control__input:-webkit-autofill,.control__input:-webkit-autofill:hover,.control__input:-webkit-autofill:focus,.control__input:-webkit-autofill:active{box-shadow:0 0 0 30px transparent inset !important}.control__input::selection{background:var(--bbj-input-selection-background, var(--bbj-color-primary-light));color:var(--bbj-input-selection-color, var(--bbj-color-on-primary-text-light))}.control--focused:not(.control--disabled) .control__label{color:var(--bbj-input-label-hover-color, var(--bbj-color-primary-text-light))}.control__prefix,.control__suffix{align-items:center;cursor:default;display:inline-flex;flex:0 0 auto;height:inherit;text-align:center}.control__prefix ::slotted(*),.control__suffix ::slotted(*){user-select:none}.control__spinners{--bbj-icon-size:1em;align-items:stretch;box-sizing:border-box;display:flex;flex-direction:column;height:100%;justify-content:center}.control__spinners bbj-icon-button{align-items:center;background:transparent;border:unset;box-sizing:border-box;display:flex;height:50%;margin:0;outline:none;padding:0;width:100%}bbj-alert{--bbj-alert-padding:var(--bbj-space-s) 0}:host([valid]),:host([invalid]){--bbj-icon-button-color:var(--bbj-input-color);--bbj-icon-button-hover-color:var(--bbj-icon-button-color);--bbj-icon-button-active-color:var(--bbj-icon-button-color)}:host([valid]){--bbj-input-label-color:var(--bbj-color-success-text);--bbj-input-label-hover-color:var(--bbj-color-success-text-light);--bbj-input-border-color:var(--bbj-color-success);--bbj-input-hover-border-color:var(--bbj-input-border-color);--bbj-input-focus-ring:var(--bbj-focus-ring-success);--bbj-input-placeholder-color:var(--bbj-color-gray-30);--bbj-input-selection-background:var(--bbj-color-success-light);--bbj-input-selection-color:var(--bbj-color-on-success-text-light);--bbj-input-required-field-indicator-color:var(--bbj-input-label-color)}:host([invalid]){--bbj-input-label-color:var(--bbj-color-danger-text);--bbj-input-label-hover-color:var(--bbj-color-danger-text-light);--bbj-input-border-color:var(--bbj-color-danger);--bbj-input-hover-border-color:var(--bbj-input-border-color);--bbj-input-focus-ring:var(--bbj-focus-ring-danger);--bbj-input-placeholder-color:var(--bbj-color-gray-30);--bbj-input-selection-background:var(--bbj-color-danger-light);--bbj-input-selection-color:var(--bbj-color-on-danger-text-light);--bbj-alert-color:var(--bbj-input-label-color);--bbj-alert-icon-color:var(--bbj-alert-color);--bbj-input-required-field-indicator-color:var(--bbj-input-label-color)}:host([readonly]:not(.bbj-editable)){--bbj-input-background:transparent;--bbj-input-border-color:var(--bbj-color-default-30);--bbj-input-border-style:dashed;--bbj-input-hover-background:var(--bbj-input-background);--bbj-input-hover-color:var(--bbj-input-color);--bbj-input-hover-border-color:var(--bbj-input-border-color)}.control--xl{font-size:var(--bbj-font-size-xl)}.control--xl .control__inputWrapper{height:var(--bbj-size-xl)}.control--l{font-size:var(--bbj-font-size-l)}.control--l .control__inputWrapper{height:var(--bbj-size-l)}.control--m{font-size:var(--bbj-font-size-m)}.control--m .control__inputWrapper{height:var(--bbj-size-m)}.control--s{font-size:var(--bbj-font-size-s)}.control--s .control__inputWrapper{height:var(--bbj-size-s)}.control--xs{font-size:var(--bbj-font-size-xs)}.control--xs .control__inputWrapper{height:var(--bbj-size-xs)}:host(.bbj-transparent) .control__inputWrapper{background:transparent !important}:host(.bbj-noborder) .control__inputWrapper{border-color:transparent !important}.input__control--text,.input__control--date,.input__control--datetime-local,.input__control--email,.input__control--file,.input__control--month,.input__control--number,.input__control--password,.input__control--search,.input__control--tel,.input__control--time,.input__control--url,.input__control--week{appearance:none}.input__control--range{appearance:auto;cursor:var(--bbj-cursor-grab)}.input__control--color{padding:0}.input__control--password::-ms-reveal{display:none}.control__passwordReveal{--bbj-icon-size:1.4em;display:flex;margin:var(--bbj-space-xs)}'}},[1,"bbj-editbox",{accept:[1],autoValidate:[4,"auto-validate"],autoValidateOnLoad:[4,"auto-validate-on-load"],autoWasValidated:[4,"auto-was-validated"],autocomplete:[1],autofocus:[4],autocorrect:[1],disabled:[516],expanse:[513],hasFocus:[1540,"has-focus"],highlightBehaviors:[16],invalid:[1540],invalidMessage:[1,"invalid-message"],label:[1],max:[2],maxlength:[2],min:[2],minlength:[2],multiple:[4],name:[513],pattern:[1],placeholder:[1],passwordReveal:[4,"password-reveal"],readonly:[516],required:[516],size:[2],spellcheck:[4],step:[2],showSpinners:[4,"show-spinners"],spinnable:[4],tabTraversable:[2,"tab-traversable"],type:[513],validator:[1],validationIcon:[1,"validation-icon"],validationPopoverDistance:[2,"validation-popover-distance"],validationPopoverSkidding:[2,"validation-popover-skidding"],validationPopoverPlacement:[1,"validation-popover-placement"],validationStyle:[513,"validation-style"],valid:[1540],value:[1032],isPasswordVisible:[32],spin:[64],setFocus:[64],removeFocus:[64],selectAll:[64],setSelectionRange:[64],getSelectionRange:[64],setCursorPos:[64],getCursorPos:[64],getPart:[64],validate:[64]},[[8,"keyup","onWindowKeyup"],[0,"keydown","handleKeyUp"],[0,"wheel","handleWheel"],[0,"touchmove","handleWheel"]]]);function bt(){if("undefined"==typeof customElements)return;["bbj-editbox","bbj-alert","bbj-alert-popover","bbj-icon","bbj-icon-button"].forEach((e=>{switch(e){case"bbj-editbox":customElements.get(e)||customElements.define(e,ht);break;case"bbj-alert":customElements.get(e)||f();break;case"bbj-alert-popover":customElements.get(e)||Fe();break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v()}}))}bt();const pt=e(class extends t{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.selectedChangedEvent=i(this,"bbj-selected-changed",7),this.filterChangedEvent=i(this,"bbj-filter-changed",7),this.customItemEvent=i(this,"bbj-custom-item",7),this.inputValueChangedEvent=i(this,"bbj-input",7),this.openedEvent=i(this,"bbj-opened-changed",7),this.validatedEvent=i(this,"bbj-validated",7),this.selectedItems=[],this.filteredItems=[],this.filteredSelectedItemIndexes=[],this.stackedChips=0,this.autofocus=!1,this.hasFocus=!1,this.validator=void 0,this.validationIcon="",this.validationPopoverDistance=6,this.validationPopoverSkidding=0,this.validationPopoverPlacement="bottom",this.validationStyle="popover",this.valid=!1,this.invalid=!1,this.invalidMessage="",this.autoValidate=!0,this.autoValidateOnLoad=!1,this.autoWasValidated=!1,this.required=!1,this.tabTraversable=0,this.inputValue="",this.highlightBehaviors=[],this.name=void 0,this.placeholder=void 0,this.inputSize=void 0,this.allowCustomValue=!1,this.maxRowCount=void 0,this.openOnArrow=!0,this.renderer=void 0,this.disabled=!1,this.readonly=!1,this.distance=3,this.expanse="m",this.maxChipsLength=65,this.items=[],this.label=void 0,this.opened=!1,this.openWidth="",this.openHeight="",this.placement="bottom-start",this.skidding=0,this.selected=[]}onInputValueChanged(e){this.filteredItems=e?this.filterItemsByLabel(e,this.items):this.items,0===this.filteredItems.length?this.close():this.open(),this.updateFilteredSelectedItemIndexes(),this.filterChangedEvent.emit(this.filteredItems),1===this.filteredItems.length&&this.filteredItems[0].label.toLowerCase()===e&&this.menu.activateItem(0)}onItemsChanged(e){this.inputValue?this.filteredItems=this.filterItemsByLabel(this.inputValue,e):this.filteredItems=e}onOpenedChanged(e){e?this.open():this.close()}onSelectedChanged(){this.updateSelectedItems(),this.updateFilteredSelectedItemIndexes(),this.updateChipsStacking()}connectedCallback(){this.handleInputChange=this.handleInputChange.bind(this),this.handleInputValidated=this.handleInputValidated.bind(this),this.handleInputFocused=this.handleInputFocused.bind(this),this.handleInputBlurred=this.handleInputBlurred.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.handleInputMouseDown=this.handleInputMouseDown.bind(this),this.handleInputKeydown=this.handleInputKeydown.bind(this),this.handleMenuKeydown=this.handleMenuKeydown.bind(this),this.handleDropdownItemSelected=this.handleDropdownItemSelected.bind(this),this.handleDropdownClose=this.handleDropdownClose.bind(this),this.handleDropdownOpen=this.handleDropdownOpen.bind(this),this.handleLabelClick=this.handleLabelClick.bind(this),this.handleChevronClick=this.handleChevronClick.bind(this),this.handleChipRemoveClick=this.handleChipRemoveClick.bind(this),this.handleChipsClick=this.handleChipsClick.bind(this),this.updateChipsStacking=this.updateChipsStacking.bind(this),this.updateFilteredSelectedItemIndexes=this.updateFilteredSelectedItemIndexes.bind(this),this.updateSelectedItems=this.updateSelectedItems.bind(this)}componentWillLoad(){this.filteredItems=this.items,this.selected.length>0&&(this.updateSelectedItems(),this.updateFilteredSelectedItemIndexes())}async componentDidLoad(){await customElements.whenDefined("bbj-editbox"),await customElements.whenDefined("bbj-dropdown");const e=await this.editbox.getPart("input-wrapper");this.input=await this.editbox.getPart("input"),this.menu=await this.dropdown.getMenu(),this.chipsResizeObserver=new ResizeObserver((()=>{this.updateChipsStacking()})),this.chipsResizeObserver.observe(e),this.inputValue&&this.onInputValueChanged(this.inputValue),this.input.addEventListener("mousedown",this.handleInputMouseDown),this.input.addEventListener("keydown",this.handleInputKeydown),this.opened&&this.open(),this.setMenuCssVariables(),this.setBbjCssVariables()}disconnectedCallback(){this.input.removeEventListener("mousedown",this.handleInputMouseDown),this.input.removeEventListener("keydown",this.handleInputKeydown),this.chipsResizeObserver.disconnect()}async clear(){this.inputValue="",this.filteredItems=this.items,this.selected=[];const e=this.items.filter((e=>this.selected.includes(e.value)));this.selectedChangedEvent.emit(e),this.filterChangedEvent.emit(this.filteredItems),this.inputValueChangedEvent.emit(this.inputValue)}async setInputFocus(){this.editbox.setFocus(),this.hasFocus=!0}async removeInputFocus(){this.editbox.removeFocus(),this.hasFocus=!1}async open(){this.disabled||this.readonly||0===this.filteredItems.length||this.opened||(this.menu.addEventListener("keydown",this.handleMenuKeydown),document.addEventListener("mousedown",this.handleDocumentMouseDown,{capture:!0}),this.opened=!0,this.openedEvent.emit(this.opened))}async close(){this.opened&&(this.menu.removeEventListener("keydown",this.handleMenuKeydown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),this.opened=!1,this.openedEvent.emit(this.opened))}async getPart(e){let t={menu:this.menu,input:this.input,editbox:this.editbox,dropdown:this.dropdown}[e];return t||(t=this.el.shadowRoot.querySelector(`[part="${e}"]`)),new Promise((e=>{e(t)}))}validate(){return this.editbox.validate()}filterItemsByLabel(e,t){return t.filter((({label:t})=>t.toLowerCase().includes(e.toLowerCase())))}getItemByValue(e){return this.items.find((t=>t.value===e))}generateItemByValue(e){return{value:e,label:e,disabled:!1,prefix:void 0,suffix:void 0}}updateSelectedItems(){this.selectedItems=this.selected.map((e=>this.items.find((({value:t})=>t===e))))}setBbjCssVariables(){const e=document.createElement("style");e.innerHTML="\n      :root {\n        --bbj-popper-shadow: 0 100px 80px #25262712, 0 22.33px 17.86px #2526270a, 0 6.65px 5.32px #25262705;\n        \n        --bbj-space-xs: 0.25rem;\n        --bbj-space-s: 0.5rem;\n        --bbj-space-m: 1rem;\n        --bbj-space-l: 1.25rem;\n        --bbj-space-xl: 1.5rem;\n        --bbj-space: var(--bbj-space-s);\n  \n        --bbj-size-xs: 1.625rem;\n        --bbj-size-s: 1.875rem;\n        --bbj-size-m: 2.25rem;\n        --bbj-size-l: 2.75rem;\n        --bbj-size-xl: 3.25rem;\n        --bbj-size: var(--bbj-size-s);\n  \n        --bbj-font-size-xs: 0.813rem;\n        --bbj-font-size-s: 0.875rem;\n        --bbj-font-size-m: 1rem;\n        --bbj-font-size-l: 1.125rem;\n        --bbj-font-size-xl: 1.375rem;\n        --bbj-font-size: var(--bbj-font-size-s);\n  \n        --bbj-transition: 250ms;\n        --bbj-ease-inOutBack: cubic-bezier(0.68, -0.6, 0.32, 1.6);\n      }\n\n      .bbj-popper {\n        background-color: var(--bbj-popper-background, var(--bbj-surface-3));\n        border: var(--bbj-popper-border, var(--bbj-border-width) solid var(--bbj-color-default));\n        border-radius: inherit;\n        box-shadow: var(--bbj-popper-shadow, var(--bbj-shadow-m));\n        color: var(--bbj-popper-color, inherit);\n        opacity: 0;\n        overflow: hidden;\n        overscroll-behavior: none;\n        pointer-events: none;\n        transform: scale(0.9);\n        transition: var(--bbj-transition) opacity, transform var(--bbj-transition) var(--bbj-ease-inOutBack);\n        // transition: var(--bbj-transition) opacity, var(--bbj-transition) transform;\n      }\n      \n      [data-popover-for='font-chooser'] .bbj-popper {\n        overflow: hidden;\n      }\n      \n      .bbj-popper--menuitem,\n      .bbj-popper--popupmenu {\n        max-height: 100vh;\n        // max-height: -webkit-fill-available;\n        max-width: 80vw;\n      }\n      \n      .bbj-popper--validation {\n        max-width: 50vw;\n      }\n      \n      .bbj-popper--dropdown {\n        --bbj-list-background: var(--bbj-popper-background, var(--bbj-surface-3));\n        --bbj-list-hover-border-color: var(--bbj-list-border-color, var(--bbj-color-default));\n      \n        max-height: var(--bbj-dropdown-max-height, 50vh);\n        max-width: var(--bbj-dropdown-max-width, 100vw);\n        width: var(--bbj-dropdown-width, 200px);\n      \n        &::part(control) {\n          overflow: unset;\n        }\n      \n        &::part(control-wrapper) {\n          border: 0;\n          border-radius: 0;\n          margin: 0;\n          overflow: auto;\n        }\n      }\n      \n      .bbj-popper--popover {\n        max-height: var(--bbj-popover-max-height, 90vh);\n        max-width: var(--bbj-popover-max-width, 90vw);\n        overflow: auto;\n        width: var(--bbj-popover-width, auto);\n      \n        > p,\n        > section,\n        > article {\n          margin: 0;\n          padding: var(--bbj-space);\n        }\n      \n        > section {\n          align-items: center;\n          display: flex;\n          gap: var(--bbj-space-s);\n          padding: var(--bbj-space-s);\n        }\n      }\n      \n      .bbj-popper-arrow {\n        z-index: 1;\n      \n        &::before {\n          background: var(--bbj-popper-arrow-background, var(--bbj-popper-background, var(--bbj-surface-3)));\n          border: var(--bbj-popper-border, var(--bbj-border-width) solid var(--bbj-color-default));\n          content: '';\n          height: var(--bbj-popper-arrow-size, 8px);\n          opacity: 0;\n          position: absolute;\n          transform: translateZ(0) rotate(45deg);\n          transition: var(--bbj-transition) background, var(--bbj-transition) opacity;\n          width: var(--bbj-popper-arrow-size, 8px);\n        }\n      }\n      \n      .bbj-positioner {\n        border-radius: var(--bbj-border-radius);\n        box-sizing: border-box;\n        display: inline-block;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        -webkit-tap-highlight-color: transparent;\n        text-size-adjust: 100%;\n      \n        *,\n        *::before,\n        *::after {\n          box-sizing: inherit;\n        }\n      \n        &[data-popper-placement^='top'] > .bbj-popper {\n          transform-origin: bottom;\n        }\n      \n        &[data-popper-placement^='bottom'] > .bbj-popper {\n          transform-origin: top;\n        }\n      \n        &[data-popper-placement^='left'] > .bbj-popper {\n          transform-origin: right;\n        }\n      \n        &[data-popper-placement^='right'] > .bbj-popper {\n          transform-origin: left;\n        }\n      \n        &[data-popper-placement^='top'] > .bbj-popper-arrow {\n          bottom: calc((var(--bbj-popper-arrow-size, 8px) / 2));\n      \n          &::before {\n            border-left: 0;\n            border-top: 0;\n          }\n        }\n      \n        &[data-popper-placement^='bottom'] > .bbj-popper-arrow {\n          top: calc(-1 * (var(--bbj-popper-arrow-size, 8px) / 2));\n      \n          &::before {\n            border-bottom: 0;\n            border-right: 0;\n          }\n        }\n      \n        &[data-popper-placement^='left'] > .bbj-popper-arrow {\n          right: calc((var(--bbj-popper-arrow-size, 8px) / 2));\n      \n          &::before {\n            border-bottom: 0;\n            border-left: 0;\n          }\n        }\n      \n        &[data-popper-placement^='right'] > .bbj-popper-arrow {\n          left: calc(-1 * (var(--bbj-popper-arrow-size, 8px) / 2));\n      \n          &::before {\n            border-right: 0;\n            border-top: 0;\n          }\n        }\n      }\n      \n      .bbj-positioner--visible {\n        z-index: var(--bbj-menu-zindex, var(--bbj-zindex-h4));\n      \n        > .bbj-popper {\n          opacity: 1;\n          pointer-events: all;\n          transform: scale(1);\n        }\n      \n        > .bbj-popper-arrow::before {\n          opacity: 1;\n        }\n      }\n      \n      .bbj-positioner--visible:not(.bbj-positioner--dropdown) .bbj-positioner--visible:not(.bbj-positioner--popover) {\n        display: flex;\n      }\n      \n      .bbj-positioner--dropdown {\n        z-index: var(--bbj-dropdown-zindex, var(--bbj-zindex-h3));\n      }\n      \n      .bbj-positioner--popover {\n        z-index: var(--bbj-popover-zindex, var(--bbj-zindex-h2));\n      }\n    ",document.head.appendChild(e)}setMenuCssVariables(){const e=document.createElement("style");e.innerHTML="\n      :host {\n        --bbj-disabled-cursor: not-allowed;\n        --bbj-disabled-opacity: 0.6;\n        --bbj-list-selected-background: var(--bbj-multi-select-combo-box-list-selected-background, #0063cc);\n        --bbj-list-selected-color: var(--bbj-multi-select-combo-box-list-selected-color, #000);\n        --bbj-list-highlighted-background: var(--bbj-multi-select-combo-box-list-highlighted-background, #e5f2ff);\n        --bbj-list-highlighted-color: var(--bbj-multi-select-combo-box-list-highlighted-color, #000);\n        --bbj-cursor-click: pointer;\n        --bbj-color-body-text: #000;\n        --bbj-list-color: var(--bbj-multi-select-combo-box-list-item-color, #000);\n        --bbj-list-padding: var(--bbj-multi-select-combo-box-list-item-padding, var(--bbj-space));\n        --bbj-list-background: var(--bbj-multi-select-combo-box-list-background-color, inherit);\n        --bbj-border-width: var(--bbj-multi-select-combo-box-list-border-width, 1px);\n        --bbj-border-style: var(--bbj-multi-select-combo-box-list-border-style, solid);\n        --bbj-list-border-color: var(--bbj-multi-select-combo-box-list-border-color, #dce5ef);\n        --bbj-border-radius: var(--bbj-multi-select-combo-box-list-border-radius, 0.25em);\n        --bbj-focus-ring-width: var(--bbj-multi-select-combo-box-list-margin, 3px);\n        --bbj-list-hover-border-color: var(--bbj-multi-select-combo-box-list-hover-border-color, #0063cc);\n      }\n    ",this.menu.shadowRoot.prepend(e)}updateFilteredSelectedItemIndexes(){this.filteredSelectedItemIndexes=this.selected.map((e=>this.filteredItems.findIndex((t=>t.value===e)))).filter((e=>e>-1))}handleMenuKeydown(e){const t=/[a-zA-Z0-9-_ ]/.test(e.key),i="Backspace"===e.key,o=1===e.key.length;(t&&o||i)&&this.setInputFocus(),this.handleInputKeydown(e)}handleChipsClick(){this.setInputFocus()}async handleDocumentMouseDown(e){const t=e.composedPath();t.includes(this.editbox)||t.includes(this.menu)||this.close()}handleInputMouseDown(){this.disabled||this.readonly||this.opened||this.open()}handleInputChange(e){this.inputValue=e.detail,this.inputValueChangedEvent.emit(this.inputValue)}handleInputValidated(e){this.valid=e.detail,this.invalid=!this.valid,this.validatedEvent.emit(e.detail)}handleInputFocused(){this.hasFocus=!0}handleInputBlurred(){this.hasFocus=!1}handleInputKeydown(e){const t=0===this.inputValue.length,i="Backspace"===e.key,o="Enter"===e.key;if(t&&i&&this.selected.length>0){const e=[...this.selected];return e.pop(),void(this.selected=e)}const n=this.items.some((({value:e})=>e===this.inputValue)),r=this.selected.includes(this.inputValue),s=!this.autoValidate||this.valid,a=this.editbox===this.el.shadowRoot.activeElement;if(o&&s&&!t&&a&&!n&&this.allowCustomValue&&!r){const e=this.generateItemByValue(this.inputValue);this.items=[...this.items,e],this.customItemEvent.emit(e),this.selected=[...this.selected,e.value],this.inputValue="",this.open(),this.fireSelectedChangedEvent(),this.filterChangedEvent.emit(this.filteredItems)}}handleDropdownOpen(){this.open()}handleDropdownClose(){this.close()}handleDropdownItemSelected(e){const t=[].concat(e.detail),i=this.filteredItems.filter((({value:e})=>this.selected.includes(e)));if(i.length>=t.length){const[e]=i.filter((({value:e})=>!t.find((({item:t})=>t.value===e)))),o=[...this.selected],n=o.findIndex((t=>t===e.value));o.splice(n,1),this.selected=o}else{const e=t.find((({item:e})=>!this.selected.includes(e.value)));this.selected=[...this.selected,e.item.value]}this.fireSelectedChangedEvent()}handleLabelClick(){this.setInputFocus()}handleChevronClick(){this.disabled||(this.opened?this.close():this.open())}handleChipRemoveClick(e){const t=[...this.selected],i=t.findIndex((t=>t===e));t.splice(i,1),this.selected=t,this.fireSelectedChangedEvent()}createChipElement(e){const t=document.createElement("div");t.className="control__chips-item",t.innerText=e.label,t.setAttribute("part","chip"),t.setAttribute("tabindex","0");const i=document.createElement("bbj-icon");return i.className="control__chips-item-icon",i.setAttribute("part","chip-x"),i.setAttribute("tabindex","0"),t.appendChild(i),t}calculateVirtualElementWidth(e){e.style.position="absolute",e.style.visibility="hidden",e.style.whiteSpace="nowrap",e.style.left="-1000px",e.style.top="-1000px",this.el.shadowRoot.appendChild(e);const{width:t}=e.getBoundingClientRect();return this.el.shadowRoot.removeChild(e),t}measureChipWidth(e){const t=this.createChipElement(e);return this.calculateVirtualElementWidth(t)}measureStackElementWidth(){const e=document.createElement("span");e.innerText=this.stackedChips.toString();const t=Math.min(3,this.stackedChips);return e.setAttribute("data-count",t.toString()),e.className="control__chips-stack",this.calculateVirtualElementWidth(e)}measureWidthWithText(e){const t=document.createElement("span");return t.innerText=e,this.calculateVirtualElementWidth(t)}getChipsWidthFromSelectedItems(){const e=getComputedStyle(this.el).getPropertyValue("--chips-gap"),t=document.createElement("div");t.style.width=e;const i=this.stackedChips>0,o=this.calculateVirtualElementWidth(t)*Math.max(0,this.selected.length-(i?this.stackedChips:1)),n=(i?this.measureStackElementWidth():0)+o;return this.selected.slice(this.stackedChips).reduce(((e,t)=>{const i=this.getItemByValue(t);return e+this.measureChipWidth(i)}),n)}async updateChipsStacking(){const e=await this.editbox.getPart("input-wrapper"),t=await this.editbox.getPart("suffix"),i=e.offsetWidth-t.offsetWidth;let o=this.getChipsWidthFromSelectedItems(),n=Math.min(this.stackedChips,this.selected.length);const r=()=>o/i*100;for(;r()>this.maxChipsLength;){const e=this.selectedItems[n],t=this.measureChipWidth(e);o-=t,n++}for(;r()<=this.maxChipsLength&&n>0;){const e=this.selectedItems[n-1],t=this.measureChipWidth(e);if(o+=t,r()>this.maxChipsLength)break;n--}this.stackedChips=n}fireSelectedChangedEvent(){const e=this.items.filter((e=>this.selected.includes(e.value)));this.selectedChangedEvent.emit(e)}render(){const e=this.selectedItems.slice(0,this.stackedChips).map((({label:e})=>e)).join(", "),t=Math.min(3,this.stackedChips);return n(r,{part:"control",class:{BBjControl:!0,BbjMultiSelectComboBox:!0,"bbj-disabled":this.disabled,"bbj-readonly":this.readonly,"bbj-focused":this.hasFocus,"bbj-hasLabel":this.label&&this.label.length>0,"bbj-valid":this.valid,"bbj-invalid":this.invalid,"bbj-required":this.required}},n("bbj-dropdown",{ref:e=>this.dropdown=e,type:"multi-select-combo-box",exportparts:"control: dropdown-control, handler: dropdown-handler",opened:this.opened,toggleOnClick:!1,toggleOnEnter:!1,typeToSelect:!1,openOnArrow:this.openOnArrow,closeOnClick:!1,closeOnDbClick:!1,focusOnOpen:!1,checkmarkIndicator:!0,highlightIndicator:!1,multiSelectionByClick:!0,multiSelection:!0,disabled:this.disabled,readonly:this.readonly,selected:this.filteredSelectedItemIndexes,items:this.filteredItems,expanse:this.expanse,placement:this.placement,distance:this.distance,skidding:this.skidding,renderer:this.renderer,openWidth:this.openWidth,openHeight:this.openHeight,maxRowCount:this.maxRowCount,"onBbj-opened":this.handleDropdownOpen,"onBbj-closed":this.handleDropdownClose,"onBbj-selected":this.handleDropdownItemSelected},n("bbj-editbox",{ref:e=>this.editbox=e,type:"text",class:"control__input",value:this.inputValue,exportparts:"control: input-control, input, label, suffix: input-suffix, prefix: input-prefix, input-wrapper, alert, alert-popover",expanse:this.expanse,disabled:this.disabled,hasFocus:this.hasFocus,autofocus:this.autofocus,invalid:this.invalid,valid:this.valid,validationPopoverDistance:this.validationPopoverDistance,validationPopoverSkidding:this.validationPopoverSkidding,validationPopoverPlacement:this.validationPopoverPlacement,validationStyle:this.validationStyle,invalidMessage:this.invalidMessage,autoValidate:this.autoValidate,autoWasValidated:this.autoWasValidated,autoValidateOnLoad:this.autoValidateOnLoad,highlightBehaviors:this.highlightBehaviors,required:this.required,tabTraversable:this.tabTraversable,validator:this.validator,validationIcon:this.validationIcon,label:this.label,name:this.name,placeholder:this.placeholder,readonly:this.readonly,size:this.inputSize,"onBbj-modified":this.handleInputChange,"onBbj-validated":this.handleInputValidated,"onBbj-focused":this.handleInputFocused,"onBbj-blured":this.handleInputBlurred},n("div",{ref:e=>this.chips=e,slot:"prefix",class:"control__chips",onClick:this.handleChipsClick},n("div",{title:e,class:"control__chips-stack","data-count":t},this.stackedChips),this.selectedItems.slice(this.stackedChips).map((({label:e,value:t})=>n("span",{key:t,"data-value":t,class:"control__chips-item"},e,n("bbj-icon",{name:"x",pool:"tabler",part:"chip-x",class:"control__chips-item-icon",onClick:()=>this.handleChipRemoveClick(t)}))))),n("bbj-icon",{slot:"suffix",part:"input-chevron",pool:"tabler",name:"chevron-down",class:{"control__input-suffix":!0,"control__input-suffix--opened":this.opened&&!this.disabled&&!this.readonly},onClick:this.handleChevronClick}))))}get el(){return this}static get watchers(){return{inputValue:["onInputValueChanged"],items:["onItemsChanged"],opened:["onOpenedChanged"],selected:["onSelectedChanged"]}}static get style(){return':host{--chips-gap:var(--bbj-multi-select-combo-box-chips-gap, var(--bbj-space-xs, 0.25rem));display:block}bbj-editbox{--bbj-input-color:var(--bbj-multi-select-combo-box-input-color, var(--bbj-input-color, #000));--bbj-input-background:var(--bbj-multi-select-combo-box-input-background, var(--bbj-color-default-light, #edf2f7));--bbj-input-hover-background:var(--bbj-multi-select-combo-box-input-hover-background, var(--bbj-color-default-light, #edf2f7));--bbj-input-font-weight:var(--bbj-multi-select-combo-box-input-font-weight, var(--bbj-font-weight-semibold, 500));--bbj-input-label-color:var(--bbj-multi-select-combo-box-label-color, var(--bbj-color-body-text, #000));--bbj-input-placeholder-color:var(--bbj-multi-select-combo-box-input-placeholder-color, var(--bbj-color-gray-60, #999999));--bbj-input-label-hover-color:var(--bbj-multi-select-combo-box-label-hover-color, var(--bbj-color-primary-text-light, #0063cc));--bbj-input-selection-background:var(--bbj-multi-select-combo-box-input-selection-background, var(--bbj-color-primary-light, #006fe6));--bbj-input-border-color:var(--bbj-multi-select-combo-box-input-border-color, var(--bbj-color-default-dark, #cad8e7));--bbj-input-hover-border-color:var(--bbj-multi-select-combo-box-input-hover-border-color, var(--bbj-border-color-default, #0063cc));--bbj-input-border-style:var(--bbj-multi-select-combo-box-input-border-style, var(--bbj-border-style, solid));--bbj-input-border-width:var(--bbj-multi-select-combo-box-input-border-width, var(--bbj-border-width, 1px));--bbj-input-focus-ring:var(--bbj-multi-select-combo-box-input-focus-ring, var(--bbj-focus-ring-default, 0 0 0 3px #006fe666));--bbj-border-radius:var(--bbj-multi-select-combo-box-input-border-radius, 4px)}.control__input{width:100%}.control__input-suffix{cursor:pointer;transition-duration:var(--bbj-multi-select-combo-box-chevron-transition-duration, var(--bbj-transition, 250ms));transition-property:transform;transition-timing-function:var(--bbj-multi-select-combo-box-chevron-transition-timing-function, ease-out)}.control__input-suffix--opened{transform:rotate(180deg)}.control__chips{display:flex;gap:var(--chips-gap);margin-inline-start:var(--bbj-multi-select-combo-box-chips-gap, var(--bbj-space-xs, 0.813rem))}.control__chips-stack{background-color:var(--bbj-multi-select-combo-box-chips-background-color, var(--bbj-color-default, #dce5ef));color:var(--bbj-multi-select-combo-box-chips-color, var(--bbj-color-default-text, #3f658d));font-size:0.9em;padding-block:3px;padding-inline:6px;position:relative;z-index:1}.control__chips-stack:focus-visible{outline:none}.control__chips-stack[data-count="0"]{display:none}.control__chips-stack[data-count="2"]{margin-inline-start:3px}.control__chips-stack[data-count="3"]{margin-inline-start:6px}.control__chips-stack::before,.control__chips-stack::after{border-left:2px solid var(--bbj-multi-select-combo-box-chips-background-color, var(--bbj-color-default, #dce5ef));border-radius:inherit;box-sizing:border-box;content:"";height:100%;position:absolute;top:0;width:100%}.control__chips-stack[data-count="2"]::before,.control__chips-stack[data-count="3"]::before{left:-3px;margin-inline-end:2px;z-index:-1}.control__chips-stack[data-count="3"]::after{left:-6px;margin-inline-end:4px;z-index:-2}.control__chips-item{background-color:var(--bbj-multi-select-combo-box-chips-background-color, var(--bbj-color-default, #dce5ef));color:var(--bbj-multi-select-combo-box-chips-color, var(--bbj-color-default-text, #3f658d));font-size:0.9em;padding-block:3px;padding-inline-end:0;padding-inline-start:6px}.control__chips-item:focus-visible{outline:none}.control__chips-item-icon{cursor:pointer;display:inline-block;font-size:1.2em;margin-inline:3px;width:15px}.control__chips-item-icon:hover{color:var(--bbj-multi-select-combo-box-chips-close-hover-color, var(--bbj-color-black, #000))}'}},[1,"bbj-multi-select-combo-box",{autofocus:[516],hasFocus:[1540,"has-focus"],validator:[1],validationIcon:[1,"validation-icon"],validationPopoverDistance:[2,"validation-popover-distance"],validationPopoverSkidding:[2,"validation-popover-skidding"],validationPopoverPlacement:[1,"validation-popover-placement"],validationStyle:[1,"validation-style"],valid:[1540],invalid:[1540],invalidMessage:[513,"invalid-message"],autoValidate:[4,"auto-validate"],autoValidateOnLoad:[4,"auto-validate-on-load"],autoWasValidated:[4,"auto-was-validated"],required:[516],tabTraversable:[514,"tab-traversable"],inputValue:[1537,"input-value"],highlightBehaviors:[16],name:[513],placeholder:[513],inputSize:[514,"input-size"],allowCustomValue:[516,"allow-custom-value"],maxRowCount:[514,"max-row-count"],openOnArrow:[516,"open-on-arrow"],renderer:[1],disabled:[516],readonly:[516],distance:[514],expanse:[513],maxChipsLength:[514,"max-chips-length"],items:[1040],label:[513],opened:[1540],openWidth:[513,"open-width"],openHeight:[513,"open-height"],placement:[513],skidding:[514],selected:[1040],stackedChips:[32],clear:[64],setInputFocus:[64],removeInputFocus:[64],open:[64],close:[64],getPart:[64],validate:[64]}]);!function(){if("undefined"==typeof customElements)return;["bbj-multi-select-combo-box","bbj-alert","bbj-alert-popover","bbj-dropdown","bbj-editbox","bbj-icon","bbj-icon-button","bbj-list"].forEach((e=>{switch(e){case"bbj-multi-select-combo-box":customElements.get(e)||customElements.define(e,pt);break;case"bbj-alert":customElements.get(e)||f();break;case"bbj-alert-popover":customElements.get(e)||Fe();break;case"bbj-dropdown":customElements.get(e)||ct();break;case"bbj-editbox":customElements.get(e)||bt();break;case"bbj-icon":customElements.get(e)||p();break;case"bbj-icon-button":customElements.get(e)||v();break;case"bbj-list":customElements.get(e)||at()}}))}();
